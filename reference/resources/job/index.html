
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../distribute/">
      
      
        <link rel="next" href="../ml/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>job - symdesign Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/code_select.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#resources.job" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="symdesign Documentation" class="md-header__button md-logo" aria-label="symdesign Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            symdesign Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              job
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="green"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kylemeador/symdesign" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../user_guide/" class="md-tabs__link">
        
  
    
  
  User Guide

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  API reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="symdesign Documentation" class="md-nav__button md-logo" aria-label="symdesign Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    symdesign Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kylemeador/symdesign" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    symdesign
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../flags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    flags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../metrics/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    metrics
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            metrics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../metrics/pose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pose
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../protocols/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    protocols
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/align/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    align
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/fragdock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fragdock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/pose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pose
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    select
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../protocols/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    resources
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../distribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    distribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    job
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    job
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resources.job" class="md-nav__link">
    <span class="md-ellipsis">
      job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.job_resources_factory" class="md-nav__link">
    <span class="md-ellipsis">
      job_resources_factory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.DBInfo" class="md-nav__link">
    <span class="md-ellipsis">
      DBInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.JobResources" class="md-nav__link">
    <span class="md-ellipsis">
      JobResources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JobResources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.background_profile" class="md-nav__link">
    <span class="md-ellipsis">
      background_profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.specification_file" class="md-nav__link">
    <span class="md-ellipsis">
      specification_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.id" class="md-nav__link">
    <span class="md-ellipsis">
      id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.modules" class="md-nav__link">
    <span class="md-ellipsis">
      modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.output_to_directory" class="md-nav__link">
    <span class="md-ellipsis">
      output_to_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.output_directory" class="md-nav__link">
    <span class="md-ellipsis">
      output_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.output_file" class="md-nav__link">
    <span class="md-ellipsis">
      output_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.location" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.input_source" class="md-nav__link">
    <span class="md-ellipsis">
      input_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.default_output_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      default_output_tuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.construct_pose" class="md-nav__link">
    <span class="md-ellipsis">
      construct_pose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.number_of_modules" class="md-nav__link">
    <span class="md-ellipsis">
      number_of_modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.get_parsed_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      get_parsed_arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.load_job_protocol" class="md-nav__link">
    <span class="md-ellipsis">
      load_job_protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.get_range_slice" class="md-nav__link">
    <span class="md-ellipsis">
      get_range_slice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.check_protocol_module_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      check_protocol_module_arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.report_specified_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      report_specified_arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.calculate_memory_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_memory_requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.can_process_evolutionary_profiles" class="md-nav__link">
    <span class="md-ellipsis">
      can_process_evolutionary_profiles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.evolutionary_profile_processes" class="md-nav__link">
    <span class="md-ellipsis">
      evolutionary_profile_processes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.process_evolutionary_info" class="md-nav__link">
    <span class="md-ellipsis">
      process_evolutionary_info
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.JobResourcesFactory" class="md-nav__link">
    <span class="md-ellipsis">
      JobResourcesFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JobResourcesFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResourcesFactory.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResourcesFactory.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.generate_sequence_mask" class="md-nav__link">
    <span class="md-ellipsis">
      generate_sequence_mask
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.generate_chain_mask" class="md-nav__link">
    <span class="md-ellipsis">
      generate_chain_mask
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monomer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    monomer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multimer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    multimer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../query/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    query
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_8" id="__nav_3_5_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_8">
            <span class="md-nav__icon md-icon"></span>
            query
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../query/pdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pdb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../query/uniprot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    uniprot
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure_db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    structure_db
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../wrapapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wrapapi
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../sequence/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    sequence
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            sequence
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sequence/constants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sequence/expression/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    expression
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../structure/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    structure
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            structure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/coordinates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    coordinates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../structure/fragment/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    fragment
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7_3" id="__nav_3_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7_3">
            <span class="md-nav__icon md-icon"></span>
            fragment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/fragment/db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    db
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/fragment/info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    info
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/fragment/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/fragment/visuals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    visuals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/sequence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sequence
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../structure/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tools/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    tools
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/BenchmarkCollapseHydrophobicityScale/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BenchmarkCollapseHydrophobicityScale
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/ConcatenatePDBFiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConcatenatePDBFiles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/ProfileScripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProfileScripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/SlurmControl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SlurmControl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/distribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    distribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/fetch_commands_from_slurm_output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fetch_commands_from_slurm_output
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/format_commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    format_commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/format_pose_ids/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    format_pose_ids
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/generate_reference_docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    generate_reference_docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/get_array_numbers_from_identifiers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    get_array_numbers_from_identifiers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/list_files_in_directory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    list_files_in_directory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/list_overlap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    list_overlap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/models_to_multimodel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    models_to_multimodel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/profile_gpu_nodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    profile_gpu_nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/retrieve_oligomers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    retrieve_oligomers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/retrieve_pdbs_by_advanced_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    retrieve_pdbs_by_advanced_query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/write_indices_for_C1_docking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    write_indices_for_C1_docking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../utils/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    utils
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/SymEntry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SymEntry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/nanohedra_parsing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nanohedra_parsing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/path/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    path
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/rosetta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rosetta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/symmetry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    symmetry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../visualization/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    visualization
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            visualization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualization/SymmetryMates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SymmetryMates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualization/VisualizeUtils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VisualizeUtils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../visualization/shapes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shapes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resources.job" class="md-nav__link">
    <span class="md-ellipsis">
      job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.job_resources_factory" class="md-nav__link">
    <span class="md-ellipsis">
      job_resources_factory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.DBInfo" class="md-nav__link">
    <span class="md-ellipsis">
      DBInfo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.JobResources" class="md-nav__link">
    <span class="md-ellipsis">
      JobResources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JobResources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.background_profile" class="md-nav__link">
    <span class="md-ellipsis">
      background_profile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.specification_file" class="md-nav__link">
    <span class="md-ellipsis">
      specification_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.id" class="md-nav__link">
    <span class="md-ellipsis">
      id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.modules" class="md-nav__link">
    <span class="md-ellipsis">
      modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.output_to_directory" class="md-nav__link">
    <span class="md-ellipsis">
      output_to_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.output_directory" class="md-nav__link">
    <span class="md-ellipsis">
      output_directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.output_file" class="md-nav__link">
    <span class="md-ellipsis">
      output_file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.location" class="md-nav__link">
    <span class="md-ellipsis">
      location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.input_source" class="md-nav__link">
    <span class="md-ellipsis">
      input_source
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.default_output_tuple" class="md-nav__link">
    <span class="md-ellipsis">
      default_output_tuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.construct_pose" class="md-nav__link">
    <span class="md-ellipsis">
      construct_pose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.number_of_modules" class="md-nav__link">
    <span class="md-ellipsis">
      number_of_modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.get_parsed_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      get_parsed_arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.load_job_protocol" class="md-nav__link">
    <span class="md-ellipsis">
      load_job_protocol
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.get_range_slice" class="md-nav__link">
    <span class="md-ellipsis">
      get_range_slice
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.check_protocol_module_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      check_protocol_module_arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.report_specified_arguments" class="md-nav__link">
    <span class="md-ellipsis">
      report_specified_arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.calculate_memory_requirements" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_memory_requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.can_process_evolutionary_profiles" class="md-nav__link">
    <span class="md-ellipsis">
      can_process_evolutionary_profiles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.evolutionary_profile_processes" class="md-nav__link">
    <span class="md-ellipsis">
      evolutionary_profile_processes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResources.process_evolutionary_info" class="md-nav__link">
    <span class="md-ellipsis">
      process_evolutionary_info
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.JobResourcesFactory" class="md-nav__link">
    <span class="md-ellipsis">
      JobResourcesFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JobResourcesFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResourcesFactory.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resources.job.JobResourcesFactory.get" class="md-nav__link">
    <span class="md-ellipsis">
      get
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.generate_sequence_mask" class="md-nav__link">
    <span class="md-ellipsis">
      generate_sequence_mask
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources.job.generate_chain_mask" class="md-nav__link">
    <span class="md-ellipsis">
      generate_chain_mask
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>job</h1>

<div class="doc doc-object doc-module">



<a id="resources.job"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="resources.job.job_resources_factory" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">job_resources_factory</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">job_resources_factory</span><span class="p">:</span> <span class="n"><span title="typing.Annotated">Annotated</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="resources.job.JobResourcesFactory" href="#resources.job.JobResourcesFactory">JobResourcesFactory</a></span><span class="p">,</span> <span class="s1">&#39;Calling this factory method returns the single instance of the JobResources class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="resources.job.JobResourcesFactory" href="#resources.job.JobResourcesFactory">JobResourcesFactory</a></span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Calling this factory method returns the single instance of the JobResources class</p>
  </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="resources.job.DBInfo" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">DBInfo</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">DBInfo</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">,</span> <span class="n">echo</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">


                <details class="quote">
                  <summary>Source code in <code>symdesign/resources/job.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">,</span> <span class="n">echo</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">location</span> <span class="o">=</span> <span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">:</span> <span class="n">Engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="n">echo</span><span class="p">,</span> <span class="n">future</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">:</span> <span class="n">sessionmaker</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">future</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="s1">&#39;sqlite&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">location</span><span class="p">:</span>
        <span class="c1"># The below functions are recommended to help overcome issues with SQLite transaction scope</span>
        <span class="c1"># See: https://docs.sqlalchemy.org/en/20/dialects/sqlite.html#pysqlite-serializable</span>
        <span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="s1">&#39;connect&#39;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">do_connect</span><span class="p">(</span><span class="n">dbapi_connection</span><span class="p">,</span> <span class="n">connection_record</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Disable pysqlite&#39;s emitting of the BEGIN statement entirely.</span>
<span class="sd">            Also stops it from emitting COMMIT before any DDL</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">dbapi_connection</span><span class="o">.</span><span class="n">isolation_level</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="nd">@event</span><span class="o">.</span><span class="n">listens_for</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="s1">&#39;begin&#39;</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">do_begin</span><span class="p">(</span><span class="n">conn</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Emit our own BEGIN&quot;&quot;&quot;</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">exec_driver_sql</span><span class="p">(</span><span class="s1">&#39;BEGIN&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">











  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="resources.job.JobResources" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobResources</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">JobResources</span><span class="p">(</span><span class="n">program_root</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">arguments</span><span class="p">:</span> <span class="n"><span title="argparse.Namespace">Namespace</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">initial</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">

  
      <p>The intention of JobResources is to serve as a singular source of design info which is common across all
jobs. This includes common paths, databases, and design flags which should only be set once in program operation,
then shared across all member designs</p>
  



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>program_root</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The root location of program operation</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>arguments</code></b>
            (<code><span title="argparse.Namespace">Namespace</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The argparse.Namespace object with associated program flags</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>initial</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether this is the first instance of the particular program output</p>
        </div>
      </li>
  </ul>

                <details class="quote">
                  <summary>Source code in <code>symdesign/resources/job.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">program_root</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">arguments</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">initial</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
             <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse the program operation location, ensure paths to these resources are available, and parse arguments</span>

<span class="sd">    Args:</span>
<span class="sd">        program_root: The root location of program operation</span>
<span class="sd">        arguments: The argparse.Namespace object with associated program flags</span>
<span class="sd">        initial: Whether this is the first instance of the particular program output</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">program_root</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">program_root</span> <span class="o">=</span> <span class="n">program_root</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Path doesn&#39;t exist</span><span class="se">\n\t</span><span class="si">{</span><span class="n">program_root</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t initialize </span><span class="si">{</span><span class="n">JobResources</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> without parameter &#39;program_root&#39;&quot;</span><span class="p">)</span>

    <span class="c1"># Format argparse.Namespace arguments</span>
    <span class="k">if</span> <span class="n">arguments</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="nb">vars</span><span class="p">(</span><span class="n">arguments</span><span class="p">)))</span>

    <span class="c1"># Set the module for the current job. This will always be a &#39;-&#39; separated string when more than one name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">module</span><span class="p">)</span>
    <span class="c1"># Ensure that the protocol is viable</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">protocol</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol_module</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modules</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">modules</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol_module</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Instead of setting this, let self.module be used dynamically with property</span>
        <span class="c1"># self.modules = [self.module]</span>

    <span class="c1"># Computing environment and development Flags</span>
    <span class="c1"># self.command_only: bool = kwargs.get(&#39;command_only&#39;, False)</span>
    <span class="c1"># &quot;&quot;&quot;Whether to reissue commands, only if distribute_work=False&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log_level</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">log_level</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_level</span> <span class="o">==</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span> <span class="k">else</span> <span class="kc">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">force</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">development</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">development</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">profile_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">profile_memory</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile_memory</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">development</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">profile_memory</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> was set but </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">development</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> wasn&#39;t&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">mpi</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">mpi</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mpi</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpi</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distribute_work</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">distribute_work</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
        <span class="c1"># # Todo implement, see symdesign.utils and CommandDistributor</span>
        <span class="c1"># # extras = &#39; mpi {CommmandDistributer.mpi}&#39;</span>
        <span class="c1"># number_mpi_processes = CommmandDistributer.mpi - 1</span>
        <span class="c1"># logger.info(&#39;Setting job up for submission to MPI capable computer. Pose trajectories run in parallel, &#39;</span>
        <span class="c1">#             f&#39;{number_mpi_processes} at a time. This will speed up processing ~</span>
        <span class="c1">#             f&#39;{job.design.number / number_mpi_processes:2f}-fold.&#39;)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># self.mpi &gt; 0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distribute_work</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Can&#39;t compute the number of resources to allocate using </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">mpi</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> yet...&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">multi_processing</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">multi_processing</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_processing</span><span class="p">:</span>
        <span class="c1"># Calculate the number of cores to use depending on computer resources</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cores</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">calculate_mp_cores</span><span class="p">(</span><span class="n">cores</span><span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">cores</span><span class="p">))</span>  <span class="c1"># Todo mpi=self.mpi</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cores</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">threads</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cores</span> <span class="o">*</span> <span class="mi">2</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">gpu_available</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Input parameters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">project_name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">project_name</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># program_root subdirectories</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program_root</span><span class="p">,</span> <span class="n">putils</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">projects</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program_root</span><span class="p">,</span> <span class="n">putils</span><span class="o">.</span><span class="n">projects</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">job_paths</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program_root</span><span class="p">,</span> <span class="s1">&#39;JobPaths&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sbatch_scripts</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program_root</span><span class="p">,</span> <span class="s1">&#39;Scripts&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">all_scores</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program_root</span><span class="p">,</span> <span class="s1">&#39;AllScores&#39;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span> <span class="o">=</span> <span class="n">wrapapi</span><span class="o">.</span><span class="n">api_database_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sequences</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">profiles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">hhblits_profiles</span><span class="o">.</span><span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pdb_api</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">pdb</span><span class="o">.</span><span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uniprot_api</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">uniprot</span><span class="o">.</span><span class="n">location</span>
    <span class="c1"># data subdirectories</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clustered_poses</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;ClusteredPoses&#39;</span><span class="p">)</span>
    <span class="c1"># pdbs subdirectories</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span> <span class="o">=</span> <span class="n">structure_db</span><span class="o">.</span><span class="n">structure_database_factory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;StructureInfo&#39;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pdbs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">location</span>  <span class="c1"># Used to store downloaded PDB&#39;s</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">orient_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span><span class="o">.</span><span class="n">oriented</span><span class="o">.</span><span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">orient_asu_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span><span class="o">.</span><span class="n">oriented_asu</span><span class="o">.</span><span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refine_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span><span class="o">.</span><span class="n">refined</span><span class="o">.</span><span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">full_model_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span><span class="o">.</span><span class="n">full_models</span><span class="o">.</span><span class="n">location</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stride_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span><span class="o">.</span><span class="n">stride</span><span class="o">.</span><span class="n">location</span>

    <span class="c1"># Set the job instance on these db objects</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">job</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">structure_db</span><span class="o">.</span><span class="n">job</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fragment_source</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">fragment_source</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fragment_db</span><span class="p">:</span> <span class="n">structure</span><span class="o">.</span><span class="n">fragment</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">FragmentDatabase</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">default_db</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;sqlite:///</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">putils</span><span class="o">.</span><span class="n">program_name</span><span class="si">}</span><span class="s2">.db&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">db_config</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;db.cfg&#39;</span><span class="p">)</span>
    <span class="n">database_url</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">database_url</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">initial</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">database_url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">database_url</span> <span class="o">=</span> <span class="n">default_db</span>
        <span class="n">db_cfg</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="n">database_url</span><span class="p">}</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_config</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">db_cfg</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_config</span><span class="p">):</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db_config</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">db_cfg</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">database_url</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">utils</span><span class="o">.</span><span class="n">InputError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">database_url</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> &#39;</span><span class="si">{</span><span class="n">database_url</span><span class="si">}</span><span class="s2">&#39; can&#39;t be used as this </span><span class="si">{</span><span class="n">putils</span><span class="o">.</span><span class="n">program_output</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;was already initialized with the url=&#39;</span><span class="si">{</span><span class="n">db_cfg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">database_url</span> <span class="o">=</span> <span class="n">db_cfg</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;url&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># This should always exist</span>
            <span class="n">database_url</span> <span class="o">=</span> <span class="n">default_db</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">database_url</span> <span class="o">=</span> <span class="n">database_url</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug_db</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;debug_db&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="p">:</span> <span class="n">DBInfo</span> <span class="o">=</span> <span class="n">DBInfo</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">database_url</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">debug_db</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">initial</span><span class="p">:</span>  <span class="c1"># if not os.path.exists(self.internal_db):</span>
        <span class="c1"># Emit CREATE TABLE DDL</span>
        <span class="n">sql</span><span class="o">.</span><span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">load_to_db</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">load_to_db</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reset_db</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">reset_db</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset_db</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;All database information will be wiped if you proceed. Enter &#39;YES&#39; to proceed&quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">utils</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">input_string</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="s1">&#39;YES&#39;</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Dropping all tables and data from DB&#39;</span><span class="p">)</span>
            <span class="c1"># All tables are deleted</span>
            <span class="n">sql</span><span class="o">.</span><span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">drop_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
            <span class="c1"># Emit CREATE TABLE DDL</span>
            <span class="n">sql</span><span class="o">.</span><span class="n">Base</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">create_all</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Skipping </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">format_args</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">reset_db</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">pass</span>
    <span class="c1"># else:  # When --no-database is provided as a flag</span>
    <span class="c1">#     self.db = None</span>

    <span class="c1"># PoseJob initialization flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">init</span> <span class="o">=</span> <span class="n">Init</span><span class="o">.</span><span class="n">from_flags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">specify_entities</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">specify_entities</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># self.init.pre_refined</span>
    <span class="c1"># self.init.pre_loop_modeled</span>
    <span class="c1"># self.init.refine_input</span>
    <span class="c1"># self.init.loop_model_input</span>

    <span class="c1"># self.preprocessed = kwargs.get(flags.preprocessed)</span>
    <span class="c1"># if self.init.pre_loop_modeled or self.init.pre_refined:</span>
    <span class="c1">#     self.preprocessed = True</span>
    <span class="c1"># else:</span>
    <span class="c1">#     self.preprocessed = False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">range</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">range_</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">low</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>  <span class="c1"># Didn&#39;t unpack correctly</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;The </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">format_args</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">range_args</span><span class="p">)</span><span class="si">}</span><span class="s1"> flag must take the form &quot;LOWER-UPPER&quot;&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">low</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Program flags</span>
    <span class="c1"># self.consensus: bool = kwargs.get(consensus, False)  # Whether to run consensus</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">background_profile</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">background_profile</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The type of position specific profile (per-residue amino acid frequencies) to utilize as the design </span>
<span class="sd">    background profile. </span>
<span class="sd">    Choices include putils.design_profile, putils.evolutionary_profile, and putils.fragment_profile</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Process design_selector</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">design_selector</span><span class="p">:</span> <span class="n">PoseSpecification</span> <span class="o">=</span> <span class="n">parse_design_selector_flags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">update_metadata</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">update_metadata</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">component1</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">component1</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">query_codes</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">query_codes</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="n">pdb_codes</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">pdb_code</span><span class="o">.</span><span class="n">_</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;target_pdb_code&#39;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">pdb_codes</span><span class="p">:</span>
        <span class="c1"># Collect all provided codes required for component 1 processing</span>
        <span class="n">codes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">code_or_file</span> <span class="ow">in</span> <span class="n">pdb_codes</span><span class="p">:</span>
            <span class="n">codes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">to_iterable</span><span class="p">(</span><span class="n">code_or_file</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pdb_codes</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">remove_duplicates</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pdb_codes</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">component2</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">component2</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">query_codes2</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;query_codes2&#39;</span><span class="p">)</span>
    <span class="n">pdb_codes2</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pdb_code2&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;aligned_pdb_code&#39;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">pdb_codes2</span><span class="p">:</span>
        <span class="c1"># Collect all provided codes required for component 1 processing</span>
        <span class="n">codes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">code_or_file</span> <span class="ow">in</span> <span class="n">pdb_codes2</span><span class="p">:</span>
            <span class="n">codes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">to_iterable</span><span class="p">(</span><span class="n">code_or_file</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pdb_codes2</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">remove_duplicates</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pdb_codes2</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Docking flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dock</span> <span class="o">=</span> <span class="n">Dock</span><span class="o">.</span><span class="n">from_flags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">development</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">quick</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_rot</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_tx</span><span class="p">:</span>
        <span class="c1"># Check if no other values were set and set them if so</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_rot</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_tx</span><span class="p">:</span>
            <span class="c1"># Set all perturb_dof on and set to the provided default</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_tx</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">default_perturbation_steps</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Parse the provided values</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_rot</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">default_perturbation_steps</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span> <span class="o">=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_tx</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">default_perturbation_steps</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># None provided, set the unavailable dof to 1 step and warn if one was provided</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Couldn&#39;t use the flag </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">perturb_dof_steps</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> as </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">perturb_dof</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2">&quot;</span>
                           <span class="sa">f</span><span class="s2">&quot; wasn&#39;t set&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Couldn&#39;t use the flag </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> as &quot;</span>
                           <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">perturb_dof_rot</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> wasn&#39;t set&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Couldn&#39;t use the flag </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2"> as </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">perturb_dof_tx</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s2">&quot;</span>
                           <span class="sa">f</span><span class="s2">&quot; wasn&#39;t set&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_rot</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">perturb_dof_steps_tx</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># dock_weight = kwargs.get(&#39;weight&#39;)</span>
    <span class="c1"># dock_weight_file = kwargs.get(&#39;weight_file&#39;)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">weight</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">weight_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">parse_weights</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">weight</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">weight_file</span><span class="p">)</span>
    <span class="c1"># No option to get filters on the fly...</span>
    <span class="c1"># elif self.dock.weight is not None:  # --dock-weight was provided, but as a boolean-esq. Query the user</span>
    <span class="c1">#     self.dock.weight = []</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">filter</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">filter_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">parse_filters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">filter_file</span><span class="p">)</span>
    <span class="c1"># No option to get filters on the fly...</span>
    <span class="c1"># elif self.dock.weight is not None:  # --dock-weight was provided, but as a boolean-esq. Query the user</span>
    <span class="c1">#     self.dock.weight = []</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># self.proteinmpnn_score: bool = kwargs.get(&#39;proteinmpnn_score&#39;, False)</span>
    <span class="c1"># self.contiguous_ghosts: bool = kwargs.get(&#39;contiguous_ghosts&#39;, False)</span>

    <span class="c1"># self.rotation_step1: bool = kwargs.get(&#39;rotation_step1&#39;, False)</span>
    <span class="c1"># self.rotation_step2: bool = kwargs.get(&#39;rotation_step2&#39;, False)</span>
    <span class="c1"># self.min_matched: bool = kwargs.get(&#39;min_matched&#39;, False)</span>
    <span class="c1"># self.match_value: bool = kwargs.get(&#39;match_value&#39;, False)</span>
    <span class="c1"># self.initial_z_value: bool = kwargs.get(&#39;initial_z_value&#39;, False)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">fuse_chains</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">pair</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">))</span> <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">fuse_chains</span><span class="o">.</span><span class="n">_</span><span class="p">,</span> <span class="p">[])]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">interface_distance</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">interface_distance</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interface</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interface_only</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">interface_only</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">oligomeric_interfaces</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">oligomeric_interfaces</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">use_proteinmpnn</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">use_proteinmpnn</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">use_evolution</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">use_evolution</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># Explicitly set to false if not designing or predicting</span>
    <span class="n">use_evolution_modules</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="p">,</span> <span class="n">flags</span><span class="o">.</span><span class="n">initialize_building_blocks</span><span class="p">,</span> <span class="n">flags</span><span class="o">.</span><span class="n">refine</span><span class="p">,</span> <span class="n">flags</span><span class="o">.</span><span class="n">interface_metrics</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">process_rosetta_metrics</span><span class="p">,</span> <span class="n">flags</span><span class="o">.</span><span class="n">analysis</span><span class="p">,</span> <span class="n">flags</span><span class="o">.</span><span class="n">predict_structure</span><span class="p">,</span> <span class="n">flags</span><span class="o">.</span><span class="n">design</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_evolution</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">([</span><span class="n">module</span> <span class="ow">in</span> <span class="n">use_evolution_modules</span> <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">]):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Setting </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">format_args</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">use_evolution_args</span><span class="p">)</span><span class="si">}</span><span class="s1"> to False as no module &#39;</span>
                    <span class="s1">&#39;requesting evolutionary information is utilized&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_evolution</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Design flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">design</span> <span class="o">=</span> <span class="n">Design</span><span class="o">.</span><span class="n">from_flags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">ignore_clashes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">ignore_pose_clashes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">ignore_symmetric_clashes</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="c1"># Handle protocol specific flags</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">interface_design</span><span class="p">:</span>  <span class="c1"># or self.design.neighbors:</span>
        <span class="c1"># Handle interface-design module alias</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">design</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">interface</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="n">putils</span><span class="o">.</span><span class="n">consensus</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">term_constraint</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">term_constraint</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_fragments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_fragments</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">structure_background</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">evolution_constraint</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">hbnet</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">scout</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">term_constraint</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># if self.design.evolution_constraint and flags.design not in self.modules:</span>
    <span class="c1">#     logger.debug(f&#39;Setting {flags.format_args(flags.evolution_constraint_args)} to False as the no module &#39;</span>
    <span class="c1">#                  f&#39;requesting evolutionary information is utilized&#39;)</span>
    <span class="c1">#     self.design.evolution_constraint = False</span>

    <span class="c1"># self.dock_only: bool = kwargs.get(&#39;dock_only&#39;)</span>
    <span class="c1"># if self.dock_only:</span>
    <span class="c1">#     self.design.sequences = self.design.structures = False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">only_write_frag_info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">only_write_frag_info</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">increment_chains</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">increment_chains</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">interface_to_alanine</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">interface_to_alanine</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metrics</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">metrics</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measure_pose</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">measure_pose</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">specific_protocol</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">specific_protocol</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># Process symmetry</span>
    <span class="n">sym_entry_number</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">sym_entry</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="n">symmetry</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">symmetry</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sym_entry_number</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">symmetry</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sym_entry</span><span class="p">:</span> <span class="n">SymEntry</span><span class="o">.</span><span class="n">SymEntry</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">symmetry</span> <span class="ow">and</span> <span class="n">utils</span><span class="o">.</span><span class="n">symmetry</span><span class="o">.</span><span class="n">CRYST</span> <span class="ow">in</span> <span class="n">symmetry</span><span class="o">.</span><span class="n">upper</span><span class="p">():</span>
            <span class="c1"># Later, symmetry information will be retrieved from the file header</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sym_entry</span> <span class="o">=</span> <span class="n">SymEntry</span><span class="o">.</span><span class="n">CrystRecord</span>  <span class="c1"># Input was provided as &#39;cryst&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sym_entry</span> <span class="o">=</span> <span class="n">SymEntry</span><span class="o">.</span><span class="n">parse_symmetry_to_sym_entry</span><span class="p">(</span>
                <span class="n">sym_entry_number</span><span class="o">=</span><span class="n">sym_entry_number</span><span class="p">,</span> <span class="n">symmetry</span><span class="o">=</span><span class="n">symmetry</span><span class="p">)</span>

    <span class="c1"># Selection flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save_total</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">save_total</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># self.total = kwargs.get(&#39;total&#39;)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">protocol</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="n">_filter</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">filter_</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="n">_filter_file</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">filter_file</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_filter</span> <span class="o">==</span> <span class="nb">list</span><span class="p">():</span>
        <span class="c1"># --filter was provided, but as a boolean-esq. Query the user once there is a df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">_filter</span> <span class="ow">or</span> <span class="n">_filter_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">parse_filters</span><span class="p">(</span><span class="n">_filter</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">_filter_file</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_weight</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">weight</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="n">_weight_file</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">weight_file</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">_weight</span> <span class="o">==</span> <span class="nb">list</span><span class="p">():</span>
        <span class="c1"># --weight was provided, but as a boolean-esq. Query the user once there is a df</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">_weight</span> <span class="ow">or</span> <span class="n">_weight_file</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">flags</span><span class="o">.</span><span class="n">parse_weights</span><span class="p">(</span><span class="n">_weight</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">_weight_file</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">weight_function</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">weight_function</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">select_number</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">select_number</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">designs_per_pose</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">designs_per_pose</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># self.allow_multiple_poses = kwargs.get(&#39;allow_multiple_poses&#39;)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tag_entities</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">tag_entities</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">specification_file</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">specification_file</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># Don&#39;t need this at the moment...</span>
    <span class="c1"># self.poses = kwargs.get(flags.poses)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Used to specify whether specific designs should be fetched for select_* modules&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dataframe</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>

    <span class="c1"># Sequence flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">avoid_tagging_helices</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">avoid_tagging_helices</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">csv</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">csv</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nucleotide</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">nucleotide</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">optimize_species</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">optimize_species</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">preferred_tag</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">preferred_tag</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tag_linker</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">tag_linker</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">multicistronic</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">multicistronic</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">multicistronic_intergenic_sequence</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">multicistronic_intergenic_sequence</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>

    <span class="c1"># Output flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">overwrite</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">overwrite</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pose_format</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">pose_format</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">prefix</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">prefix</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}</span><span class="s1">_&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">suffix</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">suffix</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">suffix</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;_</span><span class="si">{</span><span class="n">suffix</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="c1"># Check if output already exists or --overwrite is provided</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">select_modules</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="c1"># self.location must not be None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prefix</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">utils</span><span class="o">.</span><span class="n">starttime</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_source</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span><span class="si">}</span><span class="s1">_&#39;</span>
        <span class="n">output_directory</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_directory</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
        <span class="c1"># if not self.output_to_directory:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">output_directory</span><span class="p">:</span>
            <span class="n">output_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program_root</span><span class="p">),</span> <span class="sa">f</span><span class="s1">&#39;SelectedDesigns&#39;</span><span class="p">)</span>
            <span class="c1">#     os.path.join(os.path.dirname(self.program_root), f&#39;{self.prefix}SelectedDesigns{self.suffix}&#39;)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># if output_directory:</span>
        <span class="n">output_directory</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_directory</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">output_directory</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_directory</span> <span class="o">=</span> <span class="n">output_directory</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_directory</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">overwrite</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The specified output directory &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_directory</span><span class="si">}</span><span class="s2">&#39; already exists. Proceeding may &quot;</span>
                  <span class="sa">f</span><span class="s1">&#39;overwrite your old data. Either specify a new one or use the flags </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">prefix</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s1"> or &#39;</span>
                  <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">suffix</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s1"> to modify the name. To proceed, append </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">overwrite</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s1"> to your &#39;</span>
                  <span class="sa">f</span><span class="s1">&#39;command&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">putils</span><span class="o">.</span><span class="n">make_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_directory</span><span class="p">)</span>

    <span class="n">output_file</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_file</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">output_file</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_file</span> <span class="o">=</span> <span class="n">output_file</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_file</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">overwrite</span><span class="p">:</span>
            <span class="c1"># if self.module in flags.analysis:  # Todo this was allowed, but it&#39;s outdated...</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The specified output file &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">output_file</span><span class="si">}</span><span class="s2">&#39; already exists. Proceeding may &quot;</span>
                  <span class="sa">f</span><span class="s1">&#39;overwrite your old data. Either specify a new one or use the flags </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">prefix</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s1"> or &#39;</span>
                  <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">suffix</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s1"> to modify the name. To proceed, append </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">overwrite</span><span class="o">.</span><span class="n">long</span><span class="si">}</span><span class="s1"> to your &#39;</span>
                  <span class="sa">f</span><span class="s1">&#39;command&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># When we are performing expand-asu, make sure we set output_assembly to True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">expand_asu</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_assembly</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_assembly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_assembly</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_surrounding_uc</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_surrounding_uc</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_fragments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_fragments</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_interface</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_interface</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_oligomers</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_oligomers</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_entities</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_entities</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_structures</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_structures</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">output_trajectory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">output_trajectory</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">skip_logging</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">skip_logging</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># self.merge: bool = kwargs.get(flags.merge._)</span>
    <span class="c1"># self.save: bool = kwargs.get(flags.save._)</span>
    <span class="c1"># self.figures: bool = kwargs.get(flags.figures._)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_structures</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_assembly</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_surrounding_uc</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_fragments</span> \
            <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_oligomers</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_entities</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_trajectory</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># self.nanohedra_output: bool = kwargs.get(flags.nanohedra_output)</span>
    <span class="c1"># self.nanohedra_root: str | None = None</span>
    <span class="c1"># if self.nanohedra_output:</span>
    <span class="c1">#     self.construct_pose: bool = kwargs.get(&#39;construct_pose&#39;, True)</span>
    <span class="c1"># else:</span>
    <span class="c1"># self.construct_pose = True</span>

    <span class="c1"># Align helix flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">aligned_start</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">aligned_start</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">aligned_end</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">aligned_end</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">aligned_chain</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">aligned_chain</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">alignment_length</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">alignment_length</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bend</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">bend</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extension_length</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">extend</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">target_start</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">target_start</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">target_end</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">target_end</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">target_chain</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">target_chain</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">target_termini</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">target_termini</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trim_termini</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">trim_termini</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># Helix Bending flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">direction</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">joint_residue</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">joint_residue</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">joint_chain</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">joint_chain</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sample_number</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">sample_number</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># Prediction flags</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">predict</span> <span class="o">=</span> <span class="n">Predict</span><span class="o">.</span><span class="n">from_flags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="c1"># self.num_predictions_per_model = kwargs.get(&#39;num_predictions_per_model&#39;)</span>
    <span class="c1"># if self.predict.num_predictions_per_model is None:</span>
    <span class="c1">#     if &#39;monomer&#39; in self.predict.mode:</span>
    <span class="c1">#         self.num_predictions_per_model = 1</span>
    <span class="c1">#     else:  # &#39;multimer</span>
    <span class="c1">#         self.num_predictions_per_model = 5</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">models_to_relax</span> <span class="o">==</span> <span class="s1">&#39;none&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">models_to_relax</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Clustering flags</span>
    <span class="c1"># Todo</span>
    <span class="c1">#  This is pretty sloppy. Modify this DataClass mechanism...</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cluster_selection</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">cluster_selection</span><span class="o">.</span><span class="n">_</span><span class="p">)</span>
    <span class="c1"># self.cluster_map = kwargs.get(&#39;cluster_map&#39;)</span>
    <span class="c1"># self.as_objects: bool = kwargs.get(&#39;as_objects&#39;)</span>
    <span class="c1"># self.mode: bool = kwargs.get(&#39;mode&#39;)</span>
    <span class="k">if</span> <span class="n">flags</span><span class="o">.</span><span class="n">cluster_poses</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">modules</span> <span class="ow">or</span> <span class="n">flags</span><span class="o">.</span><span class="n">cluster_map</span><span class="o">.</span><span class="n">_</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="o">.</span><span class="n">from_flags</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="c1"># self.cluster.map: AnyStr</span>
        <span class="c1"># &quot;&quot;&quot;The path to a file containing the currently loaded mapping from cluster representatives to members&quot;&quot;&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cluster</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Finally perform checks on desired work to see if viable</span>
    <span class="c1"># if self.protocol_module:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_protocol_module_arguments</span><span class="p">()</span>
    <span class="c1"># Start with None and set this once a session is opened</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">job_protocol</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># self.job_protocol = self.load_job_protocol()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parsed_arguments</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.background_profile" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">background_profile</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">background_profile</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="n"><span title="kwargs.get">get</span></span><span class="p">(</span><span class="n"><span title="symdesign.flags.background_profile._">_</span></span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The type of position specific profile (per-residue amino acid frequencies) to utilize as the design 
background profile. 
Choices include putils.design_profile, putils.evolutionary_profile, and putils.fragment_profile</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.specification_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">specification_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">specification_file</span> <span class="o">=</span> <span class="n"><span title="kwargs.get">get</span></span><span class="p">(</span><span class="n"><span title="symdesign.flags.specification_file._">_</span></span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Used to specify whether specific designs should be fetched for select_* modules</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.id" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">id</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get the JobProtocol.id for reference to the work performed</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.modules" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">modules</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">modules</span><span class="p">:</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the modules slated to run during the job</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.output_to_directory" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">output_to_directory</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">output_to_directory</span><span class="p">:</span> <span class="n">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>If True, broadcasts that output is not typical putils.program_output directory structure</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.output_directory" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">output_directory</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">output_directory</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Where to output the Job</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.output_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">output_file</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">output_file</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Where to output info related to successful Job operation</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.location" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">location</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">location</span><span class="p">:</span> <span class="n">str</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The location where PoseJob instances are located</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.input_source" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">input_source</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">input_source</span><span class="p">:</span> <span class="n">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Provide the name of the specified PoseJob instances to perform work on</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.default_output_tuple" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">default_output_tuple</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">default_output_tuple</span><span class="p">:</span> <span class="n">tuple</span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Format fields for the output file depending on time, specified name and module type</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.construct_pose" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">construct_pose</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">construct_pose</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Whether to construct the PoseJob</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="resources.job.JobResources.number_of_modules" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">number_of_modules</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">number_of_modules</span><span class="p">:</span> <span class="n">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The number of modules for the specified Job</p>
  </div>

</div>




<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.get_parsed_arguments" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_parsed_arguments</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_parsed_arguments</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the arguments submitted during application initialization</p>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code>list[str]</code>
        
        <div class="doc-md-description">
          <p>Each of the submitted flags, removed of input arguments, and formatted such as were parsed at runtime,
i.e. --file, --poses, or -d are removed, and the remainder are left in the same order so as coule be
formatted by subprocess.list2cmdline()</p>
      </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_parsed_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the arguments submitted during application initialization</span>

<span class="sd">    Returns:</span>
<span class="sd">        Each of the submitted flags, removed of input arguments, and formatted such as were parsed at runtime,</span>
<span class="sd">            i.e. --file, --poses, or -d are removed, and the remainder are left in the same order so as coule be</span>
<span class="sd">            formatted by subprocess.list2cmdline()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsed_arguments</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsed_arguments</span>

    <span class="c1"># Remove the program</span>
    <span class="n">parsed_arguments</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting with arguments </span><span class="si">{</span><span class="n">parsed_arguments</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="c1"># Todo</span>
    <span class="c1">#  Should the module be removed?</span>
    <span class="c1">#  sys.argv.remove(self.module)</span>
    <span class="c1"># Remove the input</span>
    <span class="n">possible_input_args</span> <span class="o">=</span> <span class="p">[</span><span class="n">arg</span> <span class="k">for</span> <span class="n">args</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">input_mutual_arguments</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span> \
        <span class="o">+</span> <span class="p">[</span><span class="n">arg</span> <span class="k">for</span> <span class="n">args</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">pose_inputs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span> \
        <span class="o">+</span> <span class="p">[</span><span class="n">arg</span> <span class="k">for</span> <span class="n">args</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">component_mutual1_arguments</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span> \
        <span class="o">+</span> <span class="p">[</span><span class="n">arg</span> <span class="k">for</span> <span class="n">args</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">component_mutual2_arguments</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">input_arg</span> <span class="ow">in</span> <span class="n">possible_input_args</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pop_index</span> <span class="o">=</span> <span class="n">parsed_arguments</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">input_arg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>  <span class="c1"># Not in list</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">removed_flag</span> <span class="o">=</span> <span class="n">parsed_arguments</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">pop_index</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">parsed_arguments</span><span class="p">[</span><span class="n">pop_index</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">flags</span><span class="o">.</span><span class="n">flag_delimiter</span><span class="p">:</span>
                <span class="n">removed_arg</span> <span class="o">=</span> <span class="n">parsed_arguments</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">pop_index</span><span class="p">)</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;From </span><span class="si">{</span><span class="n">removed_flag</span><span class="si">}</span><span class="s1">, removed argument </span><span class="si">{</span><span class="n">removed_arg</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="c1"># # If the flag requires an argument, pop the index a second time</span>
            <span class="c1"># if input_arg not in single_input_flags:</span>

    <span class="c1"># Remove distribution flags</span>
    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">distribute_args</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">pop_index</span> <span class="o">=</span> <span class="n">parsed_arguments</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>  <span class="c1"># Not in list</span>
            <span class="k">continue</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">parsed_arguments</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">pop_index</span><span class="p">)</span>

    <span class="c1"># Set for the next time</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parsed_arguments</span> <span class="o">=</span> <span class="n">parsed_arguments</span>

    <span class="k">return</span> <span class="n">parsed_arguments</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.load_job_protocol" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">load_job_protocol</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">load_job_protocol</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Acquire the JobProtocol for the current set of input instructions</p>

<details class="sets" open>
  <summary>Sets</summary>
  <p>self.job_protocol (sql.JobProtocol)</p>
</details>
          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_job_protocol</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Acquire the JobProtocol for the current set of input instructions</span>

<span class="sd">    Sets:</span>
<span class="sd">        self.job_protocol (sql.JobProtocol)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Tabulate the protocol arguments that should be provided to the JobProtocol search/creation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">design</span><span class="p">:</span>
        <span class="n">protocol_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">ca_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">ca_only</span><span class="p">,</span>
            <span class="n">evolution_constraint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">evolution_constraint</span><span class="p">,</span>
            <span class="n">interface</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">interface</span><span class="p">,</span>
            <span class="n">term_constraint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">term_constraint</span><span class="p">,</span>
            <span class="n">neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">neighbors</span><span class="p">,</span>
            <span class="n">proteinmpnn_model_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">proteinmpnn_model</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="p">:</span>
        <span class="n">protocol_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">ca_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">ca_only</span><span class="p">,</span>
            <span class="n">contiguous_ghosts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">contiguous_ghosts</span><span class="p">,</span>
            <span class="n">initial_z_value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">initial_z_value</span><span class="p">,</span>
            <span class="n">match_value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">match_value</span><span class="p">,</span>
            <span class="n">minimum_matched</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dock</span><span class="o">.</span><span class="n">minimum_matched</span><span class="p">,</span>
            <span class="n">proteinmpnn_model_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">proteinmpnn_model</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">predict_structure</span><span class="p">:</span>
        <span class="n">protocol_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">number_predictions</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">num_predictions_per_model</span><span class="p">,</span>
            <span class="n">prediction_model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">models_to_relax</span><span class="p">,</span>
            <span class="n">use_gpu_relax</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">use_gpu_relax</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">analysis</span><span class="p">:</span>
        <span class="n">protocol_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">ca_only</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">ca_only</span><span class="p">,</span>
            <span class="n">proteinmpnn_model_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">proteinmpnn_model</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="c1"># Todo</span>
    <span class="c1">#  raise NotImplementedError()</span>
    <span class="c1"># elif self.module == flags.interface_metrics:</span>
    <span class="c1"># elif self.module == flags.generate_fragments:</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">protocol_kwargs</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">protocol_kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">module</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="p">,</span>
        <span class="n">commit</span><span class="o">=</span><span class="n">putils</span><span class="o">.</span><span class="n">commit</span><span class="p">,</span>
    <span class="p">))</span>

    <span class="n">job_protocol_stmt</span> <span class="o">=</span> <span class="n">select</span><span class="p">(</span><span class="n">sql</span><span class="o">.</span><span class="n">JobProtocol</span><span class="p">)</span>\
        <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="nb">getattr</span><span class="p">(</span><span class="n">sql</span><span class="o">.</span><span class="n">JobProtocol</span><span class="p">,</span> <span class="n">table_column</span><span class="p">)</span> <span class="o">==</span> <span class="n">job_resources_attr</span>
                 <span class="k">for</span> <span class="n">table_column</span><span class="p">,</span> <span class="n">job_resources_attr</span> <span class="ow">in</span> <span class="n">protocol_kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
    <span class="c1"># logger.debug(job_protocol_stmt.compile(compile_kwargs={&quot;literal_binds&quot;: True}))</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="p">(</span><span class="n">expire_on_commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
        <span class="n">job_protocol_result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">scalars</span><span class="p">(</span><span class="n">job_protocol_stmt</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">job_protocol_result</span><span class="p">:</span>  <span class="c1"># Create a new one</span>
            <span class="n">job_protocol</span> <span class="o">=</span> <span class="n">sql</span><span class="o">.</span><span class="n">JobProtocol</span><span class="p">(</span><span class="o">**</span><span class="n">protocol_kwargs</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">job_protocol</span><span class="p">)</span>
            <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">job_protocol_result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">job_protocol_result</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">utils</span><span class="o">.</span><span class="n">InputError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;sqlalchemy.IntegrityError should&#39;ve been raised. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t have more than one matching </span><span class="si">{</span><span class="n">sql</span><span class="o">.</span><span class="n">JobProtocol</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">job_protocol</span> <span class="o">=</span> <span class="n">job_protocol_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">job_protocol</span> <span class="o">=</span> <span class="n">job_protocol</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.get_range_slice" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_range_slice</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_range_slice</span><span class="p">(</span><span class="n">jobs</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Slice the input work by a set increment. This is parsed from the flags.range_args</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>jobs</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span></code>)
        
        <div class="doc-md-description">
          <p>The work that should be sliced by the specified range</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The work, limited to the range provided by -r/--range input flag</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span>
<span class="normal">995</span>
<span class="normal">996</span>
<span class="normal">997</span>
<span class="normal">998</span>
<span class="normal">999</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_range_slice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">jobs</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Slice the input work by a set increment. This is parsed from the flags.range_args</span>

<span class="sd">    Args:</span>
<span class="sd">        jobs: The work that should be sliced by the specified range</span>
<span class="sd">    Returns:</span>
<span class="sd">        The work, limited to the range provided by -r/--range input flag</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">:</span>
        <span class="n">path_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">jobs</span><span class="p">)</span>
        <span class="c1"># Adding 0.5 to ensure rounding occurs</span>
        <span class="n">low_range</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">low</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="n">path_number</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="n">high_range</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">high</span><span class="o">/</span><span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="n">path_number</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">low_range</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">high_range</span> <span class="o">&gt;</span> <span class="n">path_number</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;The </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">format_args</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">range_args</span><span class="p">)</span><span class="si">}</span><span class="s1"> flag is outside of the acceptable bounds [0-100]&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Selecting input work (</span><span class="si">{</span><span class="n">path_number</span><span class="si">}</span><span class="s1">) with range: </span><span class="si">{</span><span class="n">low_range</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="n">high_range</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">range_slice</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="n">low_range</span><span class="p">,</span> <span class="n">high_range</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">range_slice</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">jobs</span><span class="p">[</span><span class="n">range_slice</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.check_protocol_module_arguments" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">check_protocol_module_arguments</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">check_protocol_module_arguments</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Given provided modules for the 'protocol' module, check to ensure the work is adequate</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">check_protocol_module_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given provided modules for the &#39;protocol&#39; module, check to ensure the work is adequate</span>

<span class="sd">    Raises:</span>
<span class="sd">        InputError if the inputs are found to be incompatible</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">protocol_module_allowed_modules</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">align_helices</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">bend</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">expand_asu</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">rename_chains</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">check_clashes</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">generate_fragments</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">predict_structure</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">interface_metrics</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">optimize_designs</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">refine</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">design</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">interface_design</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">analysis</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">cluster_poses</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">select_poses</span><span class="p">,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">select_designs</span>
    <span class="p">]</span>
    <span class="n">disallowed_modules</span> <span class="o">=</span> <span class="p">[</span>
        <span class="c1"># &#39;custom_script&#39;,</span>
        <span class="c1"># flags.select_sequences,</span>
        <span class="n">flags</span><span class="o">.</span><span class="n">initialize_building_blocks</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">check_gpu</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">available_devices</span> <span class="o">=</span> <span class="n">jax</span><span class="o">.</span><span class="n">local_devices</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">device</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">available_devices</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">device</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s1">&#39;gpu&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">gpu_available</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">return</span> <span class="n">device</span><span class="o">.</span><span class="n">device_kind</span>
                <span class="c1"># device_id = idx</span>
                <span class="c1"># return True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">problematic_modules</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">not_recognized_modules</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">nanohedra_prior</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">gpu_device_kind</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">module</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">utils</span><span class="o">.</span><span class="n">InputError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;For </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">protocol</span><span class="si">}</span><span class="s2"> module, </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2"> can only be run in --modules position #1&quot;</span><span class="p">)</span>
            <span class="n">nanohedra_prior</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">continue</span>
        <span class="k">elif</span> <span class="n">module</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">select_modules</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol_module</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">idx</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_modules</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">utils</span><span class="o">.</span><span class="n">InputError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;For </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">protocol</span><span class="si">}</span><span class="s2"> module, </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2"> can only be run in --modules position N i.e. #1,2,...N&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">predict_structure</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">gpu_device_kind</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="c1"># Check for GPU access</span>
                <span class="n">gpu_device_kind</span> <span class="o">=</span> <span class="n">check_gpu</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">gpu_device_kind</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Running </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s1"> on </span><span class="si">{</span><span class="n">gpu_device_kind</span><span class="si">}</span><span class="s1"> GPU&#39;</span><span class="p">)</span>
                <span class="c1"># Disable GPU on tensorflow. I think that this is so tensorflow doesn&#39;t leak any calculations</span>
                <span class="n">tf</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">set_visible_devices</span><span class="p">([],</span> <span class="s1">&#39;GPU&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># device.platform == &#39;cpu&#39;:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;No GPU detected, will </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s1"> using CPU&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">design</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="n">putils</span><span class="o">.</span><span class="n">proteinmpnn</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">gpu_device_kind</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1"># Check for GPU access</span>
                    <span class="n">gpu_device_kind</span> <span class="o">=</span> <span class="n">check_gpu</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">gpu_device_kind</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Running </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s1"> on </span><span class="si">{</span><span class="n">gpu_device_kind</span><span class="si">}</span><span class="s1"> GPU&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># device.platform == &#39;cpu&#39;:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;No GPU detected, will </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s1"> using CPU&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">nanohedra_prior</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">module</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">select_modules</span><span class="p">:</span>
                <span class="c1"># We only should allow select-poses after nanohedra</span>
                <span class="k">if</span> <span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">select_poses</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Running </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2"> after </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="si">}</span><span class="s2"> won&#39;t produce any Designs to &quot;</span>
                                    <span class="sa">f</span><span class="s2">&quot;operate on. In order to </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s2">, ensure you run a design protocol first&quot;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># flags.select_designs, flags.select_sequences</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span><span class="p">:</span>  <span class="c1"># not self.filter or</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Using </span><span class="si">{</span><span class="n">module</span><span class="si">}</span><span class="s1"> after </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="si">}</span><span class="s1"> without specifying the flag &#39;</span>
                                        <span class="c1"># f&#39;{flags.format_args(flags.filter_args)} or &#39;</span>
                                        <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">format_args</span><span class="p">(</span><span class="n">flags</span><span class="o">.</span><span class="n">weight_args</span><span class="p">)</span><span class="si">}</span><span class="s1"> defaults to selection &#39;</span>
                                        <span class="sa">f</span><span class="s1">&#39;parameters </span><span class="si">{</span><span class="n">config</span><span class="o">.</span><span class="n">default_weight_parameter</span><span class="p">[</span><span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">nanohedra_prior</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol_module</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">module</span> <span class="ow">in</span> <span class="n">protocol_module_allowed_modules</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">module</span> <span class="ow">in</span> <span class="n">disallowed_modules</span><span class="p">:</span>
                <span class="n">problematic_modules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">not_recognized_modules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">not_recognized_modules</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">utils</span><span class="o">.</span><span class="n">InputError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;For </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">protocol</span><span class="si">}</span><span class="s2"> module, the --</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">modules</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">not_recognized_modules</span><span class="p">)</span><span class="si">}</span><span class="s2"> aren&#39;t &quot;</span>
            <span class="sa">f</span><span class="s1">&#39;recognized modules. See&quot;</span><span class="si">{</span><span class="n">putils</span><span class="o">.</span><span class="n">program_help</span><span class="si">}</span><span class="s1">&quot; for available module names&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">problematic_modules</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">utils</span><span class="o">.</span><span class="n">InputError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;For </span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">protocol</span><span class="si">}</span><span class="s2"> module, the --</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">modules</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">problematic_modules</span><span class="p">)</span><span class="si">}</span><span class="s2"> aren&#39;t possible &quot;</span>
            <span class="sa">f</span><span class="s1">&#39;modules</span><span class="se">\n\n</span><span class="s1">Allowed modules are </span><span class="si">{</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">protocol_module_allowed_modules</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.report_specified_arguments" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">report_specified_arguments</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">report_specified_arguments</span><span class="p">(</span><span class="n">arguments</span><span class="p">:</span> <span class="n"><span title="argparse.Namespace">Namespace</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dict</span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Filter all flags for only those that were specified as different on the command line</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>arguments</code></b>
            (<code><span title="argparse.Namespace">Namespace</span></code>)
        
        <div class="doc-md-description">
          <p>The arguments as parsed from the command-line argparse namespace</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    Arguments specified during program execution</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">report_specified_arguments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arguments</span><span class="p">:</span> <span class="n">argparse</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter all flags for only those that were specified as different on the command line</span>

<span class="sd">    Args:</span>
<span class="sd">        arguments: The arguments as parsed from the command-line argparse namespace</span>
<span class="sd">    Returns:</span>
<span class="sd">        Arguments specified during program execution</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="n">reported_args</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># Start with JobResources flags that should be reported, or if the argument is not important, format it</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span><span class="p">:</span>
        <span class="n">reported_args</span><span class="p">[</span><span class="s1">&#39;module&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_entry</span><span class="p">:</span>
        <span class="n">reported_args</span><span class="p">[</span><span class="n">flags</span><span class="o">.</span><span class="n">sym_entry</span><span class="o">.</span><span class="n">_</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sym_entry</span><span class="o">.</span><span class="n">number</span>
    <span class="c1"># if self.design_selector:</span>
    <span class="c1">#     reported_args.pop(&#39;design_selector&#39;, None)</span>

    <span class="c1"># # Custom removal/formatting for all remaining</span>
    <span class="c1"># for custom_arg in list(arguments.keys()):</span>
    <span class="c1">#     value = arguments.pop(custom_arg, None)</span>
    <span class="c1">#     if value is not None:</span>
    <span class="c1">#         reported_args[custom_arg] = value</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">report_arg</span><span class="p">(</span><span class="n">_dest</span><span class="p">,</span> <span class="n">_default</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">arguments</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">_dest</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">reported_args</span><span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">dest</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">return</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">report_arg</span><span class="p">(</span><span class="n">_dest</span><span class="p">,</span> <span class="n">_default</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">arguments</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">_dest</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">!=</span> <span class="n">_default</span><span class="p">:</span>
                    <span class="n">reported_args</span><span class="p">[</span><span class="n">arg</span><span class="o">.</span><span class="n">dest</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">return</span>

    <span class="c1"># Get all the default program args and compare them to the provided values</span>
    <span class="k">for</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">flags</span><span class="o">.</span><span class="n">entire_parser</span><span class="o">.</span><span class="n">_action_groups</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">group</span><span class="o">.</span><span class="n">_group_actions</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">argparse</span><span class="o">.</span><span class="n">_SubParsersAction</span><span class="p">):</span>  <span class="c1"># This is a subparser, recurse</span>
                <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">sub_parser</span> <span class="ow">in</span> <span class="n">arg</span><span class="o">.</span><span class="n">choices</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">for</span> <span class="n">sub_group</span> <span class="ow">in</span> <span class="n">sub_parser</span><span class="o">.</span><span class="n">_action_groups</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">sub_group</span><span class="o">.</span><span class="n">_group_actions</span><span class="p">:</span>
                            <span class="n">report_arg</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="n">arg</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">report_arg</span><span class="p">(</span><span class="n">arg</span><span class="o">.</span><span class="n">dest</span><span class="p">,</span> <span class="n">arg</span><span class="o">.</span><span class="n">default</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">reported_args</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>  <span class="c1"># , key=lambda arg: arg[0]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.calculate_memory_requirements" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">calculate_memory_requirements</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">calculate_memory_requirements</span><span class="p">(</span><span class="n">number_jobs</span><span class="p">:</span> <span class="n">int</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Format memory requirements with module dependencies and set self.reduce_memory</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_memory_requirements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">number_jobs</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Format memory requirements with module dependencies and set self.reduce_memory&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">nanohedra</span><span class="p">:</span>  <span class="c1"># Todo</span>
        <span class="n">required_memory</span> <span class="o">=</span> <span class="n">putils</span><span class="o">.</span><span class="n">baseline_program_memory</span> <span class="o">+</span> <span class="n">putils</span><span class="o">.</span><span class="n">nanohedra_memory</span>  <span class="c1"># 30 GB ?</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">==</span> <span class="n">flags</span><span class="o">.</span><span class="n">analysis</span><span class="p">:</span>
        <span class="n">required_memory</span> <span class="o">=</span> <span class="p">(</span><span class="n">putils</span><span class="o">.</span><span class="n">baseline_program_memory</span> <span class="o">+</span>
                           <span class="n">number_jobs</span> <span class="o">*</span> <span class="n">putils</span><span class="o">.</span><span class="n">approx_ave_design_directory_memory_w_assembly</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">required_memory</span> <span class="o">=</span> <span class="p">(</span><span class="n">putils</span><span class="o">.</span><span class="n">baseline_program_memory</span> <span class="o">+</span>
                           <span class="n">number_jobs</span> <span class="o">*</span> <span class="n">putils</span><span class="o">.</span><span class="n">approx_ave_design_directory_memory_w_pose</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.2</span>

    <span class="n">available_memory</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">virtual_memory</span><span class="p">()</span><span class="o">.</span><span class="n">available</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Available memory: </span><span class="si">{</span><span class="n">available_memory</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">gb_divisior</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> GB&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Required memory: </span><span class="si">{</span><span class="n">required_memory</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">gb_divisior</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> GB&#39;</span><span class="p">)</span>
    <span class="c1"># If we are running a protocol, check for reducing memory requirements</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">protocol_module</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">number_of_modules</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduce_memory</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">available_memory</span> <span class="o">&lt;</span> <span class="n">required_memory</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduce_memory</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Todo when requirements are more accurate with database</span>
        <span class="c1">#  self.reduce_memory = False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reduce_memory</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reduce job memory?: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">reduce_memory</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.can_process_evolutionary_profiles" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">can_process_evolutionary_profiles</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">can_process_evolutionary_profiles</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">bool</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return True if the current computer has the computational requirements to collect evolutionary profiles</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">can_process_evolutionary_profiles</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return True if the current computer has the computational requirements to collect evolutionary profiles&quot;&quot;&quot;</span>
    <span class="c1"># Run specific checks</span>
    <span class="k">if</span> <span class="n">psutil</span><span class="o">.</span><span class="n">virtual_memory</span><span class="p">()</span><span class="o">.</span><span class="n">available</span> <span class="o">&lt;=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">hhblits_memory_threshold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The available RAM is probably insufficient to run </span><span class="si">{</span><span class="n">putils</span><span class="o">.</span><span class="n">hhblits</span><span class="si">}</span><span class="s1">. &#39;</span>
                        <span class="sa">f</span><span class="s1">&#39;Required/Available memory: </span><span class="si">{</span><span class="n">distribute</span><span class="o">.</span><span class="n">hhblits_memory_threshold</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">gb_divisior</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> GB/&#39;</span>
                        <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">psutil</span><span class="o">.</span><span class="n">virtual_memory</span><span class="p">()</span><span class="o">.</span><span class="n">available</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">gb_divisior</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> GB&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating scripts that can be distributed to a capable computer instead&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.evolutionary_profile_processes" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">evolutionary_profile_processes</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">evolutionary_profile_processes</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the number of evolutionary profile processes that can be run given the available memory</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">evolutionary_profile_processes</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the number of evolutionary profile processes that can be run given the available memory&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">psutil</span><span class="o">.</span><span class="n">virtual_memory</span><span class="p">()</span><span class="o">.</span><span class="n">available</span> <span class="o">&lt;=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">hhblits_memory_threshold</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResources.process_evolutionary_info" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">process_evolutionary_info</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">process_evolutionary_info</span><span class="p">(</span><span class="n">uniprot_entities</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="resources.wrapapi.UniProtEntity" href="../wrapapi/#resources.wrapapi.UniProtEntity">UniProtEntity</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="symdesign.structure.sequence.GeneEntity">GeneEntity</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">batch_commands</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Format the job with evolutionary constraint options</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>uniprot_entities</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span>[<a class="autorefs autorefs-internal" title="resources.wrapapi.UniProtEntity" href="../wrapapi/#resources.wrapapi.UniProtEntity">UniProtEntity</a>]</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>A list of the UniProtIDs for the Job</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>entities</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span>[<span title="symdesign.structure.sequence.GeneEntity">GeneEntity</span>]</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>A list of the Entity instances initialized for the Job</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>batch_commands</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether commands should be made for batch submission</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    A list evolutionary setup instructions</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">process_evolutionary_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uniprot_entities</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">wrapapi</span><span class="o">.</span><span class="n">UniProtEntity</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                              <span class="n">entities</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">structure</span><span class="o">.</span><span class="n">sequence</span><span class="o">.</span><span class="n">GeneEntity</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                              <span class="n">batch_commands</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Format the job with evolutionary constraint options</span>

<span class="sd">    Args:</span>
<span class="sd">        uniprot_entities: A list of the UniProtIDs for the Job</span>
<span class="sd">        entities: A list of the Entity instances initialized for the Job</span>
<span class="sd">        batch_commands: Whether commands should be made for batch submission</span>
<span class="sd">    Returns:</span>
<span class="sd">        A list evolutionary setup instructions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">info_messages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">hhblits_cmds</span><span class="p">,</span> <span class="n">bmdca_cmds</span><span class="p">,</span> <span class="n">msa_cmds</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="c1"># Set up sequence data using hhblits and profile bmDCA for each input entity</span>
    <span class="c1"># all_entity_ids = []</span>
    <span class="n">putils</span><span class="o">.</span><span class="n">make_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sequences</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">putils</span><span class="o">.</span><span class="n">uniclust_db</span><span class="p">:</span>
        <span class="c1"># No database has been set up</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Couldn&#39;t locate a compatible database to run hhblits. Skipping evolutionary acquisition&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">uniprot_entities</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">uniprot_entity</span> <span class="ow">in</span> <span class="n">uniprot_entities</span><span class="p">:</span>
            <span class="n">evolutionary_profile_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">hhblits_profiles</span><span class="o">.</span><span class="n">retrieve_file</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">uniprot_entity</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">evolutionary_profile_file</span><span class="p">:</span>
                <span class="n">hhblits_cmds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hhblits</span><span class="p">(</span><span class="n">uniprot_entity</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                                            <span class="n">sequence</span><span class="o">=</span><span class="n">uniprot_entity</span><span class="o">.</span><span class="n">reference_sequence</span><span class="p">,</span>
                                            <span class="n">out_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span> <span class="n">threads</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">threads</span><span class="p">,</span>
                                            <span class="n">return_command</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
                <span class="n">msa_file</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msa_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">alignments</span><span class="o">.</span><span class="n">retrieve_file</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">uniprot_entity</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">msa_file</span><span class="p">:</span>
                <span class="n">sto_cmd</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">putils</span><span class="o">.</span><span class="n">reformat_msa_exe_path</span><span class="p">,</span> <span class="s1">&#39;a3m&#39;</span><span class="p">,</span> <span class="s1">&#39;sto&#39;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span><span class="w"> </span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">uniprot_entity</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">.a3m&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;.sto&#39;</span><span class="p">,</span> <span class="s1">&#39;-num&#39;</span><span class="p">,</span> <span class="s1">&#39;-uc&#39;</span><span class="p">]</span>
                <span class="n">fasta_cmd</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">putils</span><span class="o">.</span><span class="n">reformat_msa_exe_path</span><span class="p">,</span> <span class="s1">&#39;a3m&#39;</span><span class="p">,</span> <span class="s1">&#39;fas&#39;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span><span class="w"> </span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">uniprot_entity</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s1">.a3m&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;.fasta&#39;</span><span class="p">,</span> <span class="s1">&#39;-M&#39;</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;-r&#39;</span><span class="p">]</span>
                <span class="n">msa_cmds</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">sto_cmd</span><span class="p">,</span> <span class="n">fasta_cmd</span><span class="p">])</span>

    <span class="k">elif</span> <span class="n">entities</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s1">&#39;Currently must use </span><span class="si">{</span><span class="n">wrapapi</span><span class="o">.</span><span class="n">UniProtEntity</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> in &#39;</span>
            <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">process_evolutionary_info</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">:</span>
            <span class="n">evolutionary_profile_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">hhblits_profiles</span><span class="o">.</span><span class="n">retrieve_file</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">evolutionary_profile_file</span><span class="p">:</span>
                <span class="n">sequence_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">sequences</span><span class="o">.</span><span class="n">retrieve_file</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">sequence_file</span><span class="p">:</span>
                    <span class="n">sequence_file</span> <span class="o">=</span> <span class="n">entity</span><span class="o">.</span><span class="n">write_sequence_to_fasta</span><span class="p">(</span><span class="n">out_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sequences</span><span class="p">)</span>

                <span class="n">hhblits_cmds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entity</span><span class="o">.</span><span class="n">hhblits</span><span class="p">(</span><span class="n">sequence_file</span><span class="o">=</span><span class="n">sequence_file</span><span class="p">,</span> <span class="n">out_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span>
                                                   <span class="n">return_command</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
                <span class="n">msa_file</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msa_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_db</span><span class="o">.</span><span class="n">alignments</span><span class="o">.</span><span class="n">retrieve_file</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">entity</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">msa_file</span><span class="p">:</span>
                <span class="n">sto_cmd</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">putils</span><span class="o">.</span><span class="n">reformat_msa_exe_path</span><span class="p">,</span> <span class="s1">&#39;a3m&#39;</span><span class="p">,</span> <span class="s1">&#39;sto&#39;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span><span class="w"> </span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">entity</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">.a3m&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;.sto&#39;</span><span class="p">,</span> <span class="s1">&#39;-num&#39;</span><span class="p">,</span> <span class="s1">&#39;-uc&#39;</span><span class="p">]</span>
                <span class="n">fasta_cmd</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">putils</span><span class="o">.</span><span class="n">reformat_msa_exe_path</span><span class="p">,</span> <span class="s1">&#39;a3m&#39;</span><span class="p">,</span> <span class="s1">&#39;fas&#39;</span><span class="p">,</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span><span class="w"> </span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">entity</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1">.a3m&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;.fasta&#39;</span><span class="p">,</span> <span class="s1">&#39;-M&#39;</span><span class="p">,</span> <span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="s1">&#39;-r&#39;</span><span class="p">]</span>
                <span class="n">msa_cmds</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">sto_cmd</span><span class="p">,</span> <span class="n">fasta_cmd</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">hhblits_cmds</span><span class="p">:</span>
        <span class="n">protocol</span> <span class="o">=</span> <span class="n">putils</span><span class="o">.</span><span class="n">hhblits</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Starting Profile(dtype=&#39;</span><span class="si">{</span><span class="n">protocol</span><span class="si">}</span><span class="s2">&#39;) generation&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">protocol</span> <span class="o">==</span> <span class="n">putils</span><span class="o">.</span><span class="n">hhblits</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">access</span><span class="p">(</span><span class="n">putils</span><span class="o">.</span><span class="n">hhblits_exe</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">X_OK</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Couldn&#39;t locate the </span><span class="si">{</span><span class="n">protocol</span><span class="si">}</span><span class="s2"> executable. Ensure the executable file referenced by &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">putils</span><span class="o">.</span><span class="n">hhblits_exe</span><span class="si">}</span><span class="s2">&#39; exists then try your job again. Otherwise, use the argument &quot;</span>
                    <span class="sa">f</span><span class="s1">&#39;--no-</span><span class="si">{</span><span class="n">flags</span><span class="o">.</span><span class="n">use_evolution</span><span class="si">}</span><span class="s1"> OR set up hhblits to run.</span><span class="si">{</span><span class="n">utils</span><span class="o">.</span><span class="n">guide</span><span class="o">.</span><span class="n">hhblits_setup_instructions</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">assert_never</span><span class="p">(</span><span class="n">protocol</span><span class="p">)</span>

        <span class="n">putils</span><span class="o">.</span><span class="n">make_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>
        <span class="n">putils</span><span class="o">.</span><span class="n">make_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sbatch_scripts</span><span class="p">)</span>
        <span class="n">protocol_log_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span> <span class="s1">&#39;generate_profiles.log&#39;</span><span class="p">)</span>

        <span class="c1"># Run hhblits commands</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">batch_commands</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">can_process_evolutionary_profiles</span><span class="p">():</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Writing </span><span class="si">{</span><span class="n">protocol</span><span class="si">}</span><span class="s1"> results to file: </span><span class="si">{</span><span class="n">protocol_log_file</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="c1"># Run commands in this process</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi_processing</span><span class="p">:</span>
                <span class="n">zipped_args</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">hhblits_cmds</span><span class="p">,</span> <span class="n">repeat</span><span class="p">(</span><span class="n">hhblits_log_file</span><span class="p">))</span>
                <span class="n">utils</span><span class="o">.</span><span class="n">mp_starmap</span><span class="p">(</span><span class="n">distribute</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">zipped_args</span><span class="p">,</span> <span class="n">processes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cores</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">hhblits_cmds</span><span class="p">):</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Starting command: </span><span class="si">{</span><span class="n">subprocess</span><span class="o">.</span><span class="n">list2cmdline</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
                    <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">stderr</span><span class="p">:</span>
                        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">stderr</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

            <span class="c1"># Format .a3m multiple sequence alignments to .sto/.fasta</span>
            <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">msa_cmds</span><span class="p">:</span>
                <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
                <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">stderr</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">stderr</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Convert each command to a string and write to distribute</span>
            <span class="n">hhblits_cmds</span> <span class="o">=</span> <span class="p">[</span><span class="n">subprocess</span><span class="o">.</span><span class="n">list2cmdline</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span> <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">hhblits_cmds</span><span class="p">]</span>
            <span class="n">msa_cmds</span> <span class="o">=</span> <span class="p">[</span><span class="n">subprocess</span><span class="o">.</span><span class="n">list2cmdline</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span> <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">msa_cmds</span><span class="p">]</span>
            <span class="n">all_evolutionary_commands</span> <span class="o">=</span> <span class="n">hhblits_cmds</span> <span class="o">+</span> <span class="n">msa_cmds</span>
            <span class="n">evolutionary_cmds_file</span> <span class="o">=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">write_commands</span><span class="p">(</span>
                <span class="n">all_evolutionary_commands</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">utils</span><span class="o">.</span><span class="n">starttime</span><span class="si">}</span><span class="s1">-</span><span class="si">{</span><span class="n">protocol</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">distribute</span><span class="o">.</span><span class="n">is_sbatch_available</span><span class="p">():</span>
                <span class="n">shell</span> <span class="o">=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">sbatch</span>
                <span class="n">max_jobs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">hhblits_cmds</span><span class="p">)</span>  <span class="c1"># number_of_hhblits_cmds</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">shell</span> <span class="o">=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">default_shell</span>
                <span class="n">max_jobs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">evolutionary_profile_processes</span><span class="p">()</span>

            <span class="c1"># Todo</span>
            <span class="c1">#  distribution.Attrs()</span>
            <span class="n">protocol_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">out_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sbatch_scripts</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">protocol</span><span class="p">,</span>
                                   <span class="n">max_jobs</span><span class="o">=</span><span class="n">max_jobs</span><span class="p">,</span> <span class="n">number_of_commands</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">all_evolutionary_commands</span><span class="p">),</span>
                                   <span class="n">log_file</span><span class="o">=</span><span class="n">protocol_log_file</span><span class="p">)</span>
            <span class="c1"># reformat_msa_cmds_script = distribute.distribute(file=reformat_msa_cmd_file, **hhblits_kwargs)</span>
            <span class="n">protocol_script</span> <span class="o">=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">distribute</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">evolutionary_cmds_file</span><span class="p">,</span> <span class="o">**</span><span class="n">protocol_kwargs</span><span class="p">)</span>
            <span class="c1"># Format messages</span>
            <span class="n">info_messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="s1">&#39;Please follow the instructions below to generate sequence profiles for input proteins&#39;</span><span class="p">)</span>
            <span class="n">protocol_job_info_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Enter the following to distribute </span><span class="si">{</span><span class="n">protocol</span><span class="si">}</span><span class="s1"> jobs:</span><span class="se">\n\t</span><span class="s1">&#39;</span>
            <span class="n">protocol_job_info_message</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">shell</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">protocol_script</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="n">info_messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">protocol_job_info_message</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">msa_cmds</span><span class="p">:</span>  <span class="c1"># These may still be missing</span>
        <span class="n">putils</span><span class="o">.</span><span class="n">make_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">access</span><span class="p">(</span><span class="n">putils</span><span class="o">.</span><span class="n">reformat_msa_exe_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">X_OK</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Couldn&#39;t execute multiple sequence alignment reformatting script&quot;</span><span class="p">)</span>

        <span class="c1"># Format .a3m multiple sequence alignments to .sto/.fasta</span>
        <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">msa_cmds</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
            <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">stderr</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">stderr</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">bmdca_cmds</span><span class="p">:</span>
        <span class="n">putils</span><span class="o">.</span><span class="n">make_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>
        <span class="n">putils</span><span class="o">.</span><span class="n">make_path</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sbatch_scripts</span><span class="p">)</span>
        <span class="c1"># bmdca_cmds = \</span>
        <span class="c1">#     [list2cmdline([putils.bmdca_exe_path, &#39;-i&#39;, os.path.join(self.profiles, &#39;%s.fasta&#39; % entity.name),</span>
        <span class="c1">#                   &#39;-d&#39;, os.path.join(self.profiles, &#39;%s_bmDCA&#39; % entity.name)])</span>
        <span class="c1">#      for entity in entities.values()]</span>
        <span class="n">bmdca_cmd_file</span> <span class="o">=</span> \
            <span class="n">distribute</span><span class="o">.</span><span class="n">write_commands</span><span class="p">(</span><span class="n">bmdca_cmds</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">utils</span><span class="o">.</span><span class="n">starttime</span><span class="si">}</span><span class="s1">-bmDCA&#39;</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>
        <span class="n">bmdca_script</span> <span class="o">=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">distribute</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">bmdca_cmd_file</span><span class="p">,</span> <span class="n">out_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sbatch_scripts</span><span class="p">,</span>
                                             <span class="n">scale</span><span class="o">=</span><span class="s1">&#39;bmdca&#39;</span><span class="p">,</span> <span class="n">max_jobs</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">bmdca_cmds</span><span class="p">),</span>
                                             <span class="n">number_of_commands</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">bmdca_cmds</span><span class="p">),</span>
                                             <span class="n">log_file</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">profiles</span><span class="p">,</span> <span class="s1">&#39;generate_couplings.log&#39;</span><span class="p">))</span>
        <span class="c1"># reformat_msa_cmd_file = \</span>
        <span class="c1">#     SDUtils.write_commands(reformat_msa_cmds, name=&#39;%s-reformat_msa&#39; % SDUtils.starttime,</span>
        <span class="c1">#                            out_path=self.profiles)</span>
        <span class="c1"># reformat_sbatch = distribute(file=reformat_msa_cmd_file, out_path=self.program_root,</span>
        <span class="c1">#                              scale=&#39;script&#39;, max_jobs=len(reformat_msa_cmds),</span>
        <span class="c1">#                              log_file=os.path.join(self.profiles, &#39;generate_profiles.log&#39;),</span>
        <span class="c1">#                              number_of_commands=len(reformat_msa_cmds))</span>
        <span class="k">if</span> <span class="n">distribute</span><span class="o">.</span><span class="n">is_sbatch_available</span><span class="p">():</span>
            <span class="n">shell</span> <span class="o">=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">sbatch</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">shell</span> <span class="o">=</span> <span class="n">distribute</span><span class="o">.</span><span class="n">default_shell</span>

        <span class="n">bmdca_script_message</span> <span class="o">=</span> \
            <span class="sa">f</span><span class="s1">&#39;Once you are satisfied, enter the following to distribute jobs:</span><span class="se">\n\t</span><span class="si">{</span><span class="n">shell</span><span class="si">}</span><span class="s1"> %s&#39;</span> \
            <span class="o">%</span> <span class="n">bmdca_script</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">info_messages</span> <span class="k">else</span> <span class="s1">&#39;ONCE this job is finished, to calculate evolutionary &#39;</span> \
                                                     <span class="s1">&#39;couplings i,j for each amino acid in the multiple &#39;</span> \
                                                     <span class="sa">f</span><span class="s1">&#39;sequence alignment, enter:</span><span class="se">\n\t</span><span class="si">{</span><span class="n">shell</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">bmdca_script</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">info_messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bmdca_script_message</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">info_messages</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>

<div class="doc doc-object doc-class">



<h2 id="resources.job.JobResourcesFactory" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">JobResourcesFactory</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">JobResourcesFactory</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">

  
      <p>Return a JobResource instance by calling the Factory instance</p>
<p>Handles creation and allotment to other processes by making a shared pointer to the JobResource for the current Job</p>

                <details class="quote">
                  <summary>Source code in <code>symdesign/resources/job.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_warn</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResourcesFactory.__call__" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">__call__</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="fm">__call__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="resources.job.JobResources" href="#resources.job.JobResources">JobResources</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the specified JobResources object singleton</p>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><a class="autorefs autorefs-internal" title="resources.job.JobResources" href="#resources.job.JobResources">JobResources</a></code>
        
        <div class="doc-md-description">
          <p>The instance of the specified JobResources</p>
      </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobResources</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the specified JobResources object singleton</span>

<span class="sd">    Returns:</span>
<span class="sd">        The instance of the specified JobResources</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#         Args:</span>
    <span class="c1">#             source: The JobResources source name</span>
    <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;single&#39;</span>
    <span class="n">job</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">job</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">kwargs</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_warn</span><span class="p">:</span>
            <span class="c1"># try:</span>
            <span class="c1">#     fragment_db.update(kwargs)</span>
            <span class="c1"># except RuntimeError:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_warn</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t pass the new arguments </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2"> to JobResources &quot;</span>
                           <span class="sa">f</span><span class="s1">&#39;since it was already initialized and is a singleton&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">job</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Initializing </span><span class="si">{</span><span class="n">JobResources</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;program_root&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span><span class="p">[</span><span class="n">source</span><span class="p">]</span> <span class="o">=</span> <span class="n">JobResources</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resources</span><span class="p">[</span><span class="n">source</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="resources.job.JobResourcesFactory.get" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="resources.job.JobResources" href="#resources.job.JobResources">JobResources</a></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the specified JobResources object singleton</p>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><a class="autorefs autorefs-internal" title="resources.job.JobResources" href="#resources.job.JobResources">JobResources</a></code>
        
        <div class="doc-md-description">
          <p>The instance of the specified JobResources</p>
      </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JobResources</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the specified JobResources object singleton</span>

<span class="sd">    Returns:</span>
<span class="sd">        The instance of the specified JobResources</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Keyword Args:</span>
    <span class="c1">#     source: The JobResource source name</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h2 id="resources.job.generate_sequence_mask" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">generate_sequence_mask</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">generate_sequence_mask</span><span class="p">(</span><span class="n">fasta_file</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n">int</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>From a sequence with a design_selector, grab the residue indices that should be designed in the target
structural calculation</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>fasta_file</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>)
        
        <div class="doc-md-description">
          <p>The path to a file with fasta information</p>
        </div>
      </li>
  </ul>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code>list[int]</code>
        
        <div class="doc-md-description">
          <p>The residue numbers (in pose format) that should be ignored in design</p>
      </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_sequence_mask</span><span class="p">(</span><span class="n">fasta_file</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;From a sequence with a design_selector, grab the residue indices that should be designed in the target</span>
<span class="sd">    structural calculation</span>

<span class="sd">    Args:</span>
<span class="sd">        fasta_file: The path to a file with fasta information</span>

<span class="sd">    Returns:</span>
<span class="sd">        The residue numbers (in pose format) that should be ignored in design</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sequence_and_mask</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">sequence</span><span class="o">.</span><span class="n">read_fasta_file</span><span class="p">(</span><span class="n">fasta_file</span><span class="p">))</span>
    <span class="c1"># sequences = sequence_and_mask</span>
    <span class="n">_sequence</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="n">sequence_and_mask</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="n">_sequence</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">mask</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s1">&#39;The sequence and design_selector are different lengths. Please correct the alignment before proceeding&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">idx</span> <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">aa</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mask</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">aa</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="resources.job.generate_chain_mask" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">generate_chain_mask</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">generate_chain_mask</span><span class="p">(</span><span class="n">chains</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">set</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>From a string with a design_selection, format the chains provided</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>chains</code></b>
            (<code>str</code>)
        
        <div class="doc-md-description">
          <p>The specified chains separated by commas to split</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The provided chain ids in pose format</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/resources/job.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_chain_mask</span><span class="p">(</span><span class="n">chains</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;From a string with a design_selection, format the chains provided</span>

<span class="sd">    Args:</span>
<span class="sd">        chains: The specified chains separated by commas to split</span>
<span class="sd">    Returns:</span>
<span class="sd">        The provided chain ids in pose format</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">clean_comma_separated_string</span><span class="p">(</span><span class="n">chains</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../distribute/" class="md-footer__link md-footer__link--prev" aria-label="Previous: distribute">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                distribute
              </div>
            </div>
          </a>
        
        
          
          <a href="../ml/" class="md-footer__link md-footer__link--next" aria-label="Next: ml">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                ml
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Kyle Meador
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/kylemeador" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.instant", "navigation.path", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "toc.follow", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>