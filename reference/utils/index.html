
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../tools/write_indices_for_C1_docking/">
      
      
        <link rel="next" href="SymEntry/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>utils - symdesign Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/code_select.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="symdesign Documentation" class="md-header__button md-logo" aria-label="symdesign Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            symdesign Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              utils
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="green"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kylemeador/symdesign" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../user_guide/" class="md-tabs__link">
        
  
    
  
  User Guide

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  API reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="symdesign Documentation" class="md-nav__button md-logo" aria-label="symdesign Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    symdesign Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kylemeador/symdesign" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    symdesign
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    flags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../metrics/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    metrics
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            metrics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../metrics/pose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pose
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../protocols/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    protocols
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/align/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    align
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/fragdock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fragdock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/pose/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pose
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/select/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    select
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocols/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../resources/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    resources
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/distribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    distribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/job/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    job
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/ml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/monomer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    monomer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/multimer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    multimer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../resources/query/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    query
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5_8" id="__nav_3_5_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_8">
            <span class="md-nav__icon md-icon"></span>
            query
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/query/pdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pdb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/query/uniprot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    uniprot
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/structure_db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    structure_db
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/wrapapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wrapapi
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../sequence/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    sequence
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            sequence
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sequence/constants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    constants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sequence/expression/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    expression
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../structure/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    structure
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            structure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/coordinates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    coordinates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../structure/fragment/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    fragment
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7_3" id="__nav_3_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7_3">
            <span class="md-nav__icon md-icon"></span>
            fragment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/fragment/db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    db
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/fragment/info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    info
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/fragment/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/fragment/visuals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    visuals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/sequence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sequence
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../tools/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    tools
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/BenchmarkCollapseHydrophobicityScale/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BenchmarkCollapseHydrophobicityScale
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/ConcatenatePDBFiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ConcatenatePDBFiles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/ProfileScripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProfileScripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/SlurmControl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SlurmControl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/distribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    distribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/fetch_commands_from_slurm_output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fetch_commands_from_slurm_output
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/format_commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    format_commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/format_pose_ids/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    format_pose_ids
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/generate_reference_docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    generate_reference_docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/get_array_numbers_from_identifiers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    get_array_numbers_from_identifiers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/list_files_in_directory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    list_files_in_directory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/list_overlap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    list_overlap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/models_to_multimodel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    models_to_multimodel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/profile_gpu_nodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    profile_gpu_nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/retrieve_oligomers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    retrieve_oligomers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/retrieve_pdbs_by_advanced_query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    retrieve_pdbs_by_advanced_query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/write_indices_for_C1_docking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    write_indices_for_C1_docking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    utils
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="SymEntry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SymEntry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nanohedra_parsing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nanohedra_parsing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="path/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    path
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="query/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    query
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="rosetta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    rosetta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="symmetry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    symmetry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    types
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../visualization/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    visualization
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            visualization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualization/SymmetryMates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SymmetryMates
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualization/VisualizeUtils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VisualizeUtils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visualization/shapes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shapes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    <span class="md-ellipsis">
      utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.log_levels" class="md-nav__link">
    <span class="md-ellipsis">
      log_levels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.PoseSpecification" class="md-nav__link">
    <span class="md-ellipsis">
      PoseSpecification
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PoseSpecification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils.PoseSpecification.get_directives" class="md-nav__link">
    <span class="md-ellipsis">
      get_directives
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.dictionary_lookup" class="md-nav__link">
    <span class="md-ellipsis">
      dictionary_lookup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.set_dictionary_by_path" class="md-nav__link">
    <span class="md-ellipsis">
      set_dictionary_by_path
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.handle_errors" class="md-nav__link">
    <span class="md-ellipsis">
      handle_errors
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.timestamp" class="md-nav__link">
    <span class="md-ellipsis">
      timestamp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.datestamp" class="md-nav__link">
    <span class="md-ellipsis">
      datestamp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.start_log" class="md-nav__link">
    <span class="md-ellipsis">
      start_log
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.set_logging_to_level" class="md-nav__link">
    <span class="md-ellipsis">
      set_logging_to_level
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.set_loggers_to_propagate" class="md-nav__link">
    <span class="md-ellipsis">
      set_loggers_to_propagate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.pretty_format_table" class="md-nav__link">
    <span class="md-ellipsis">
      pretty_format_table
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_table_column_widths" class="md-nav__link">
    <span class="md-ellipsis">
      get_table_column_widths
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.read_json" class="md-nav__link">
    <span class="md-ellipsis">
      read_json
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.write_json" class="md-nav__link">
    <span class="md-ellipsis">
      write_json
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.unpickle" class="md-nav__link">
    <span class="md-ellipsis">
      unpickle
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.pickle_object" class="md-nav__link">
    <span class="md-ellipsis">
      pickle_object
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.remove_interior_keys" class="md-nav__link">
    <span class="md-ellipsis">
      remove_interior_keys
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.clean_comma_separated_string" class="md-nav__link">
    <span class="md-ellipsis">
      clean_comma_separated_string
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.format_index_string" class="md-nav__link">
    <span class="md-ellipsis">
      format_index_string
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.write_file" class="md-nav__link">
    <span class="md-ellipsis">
      write_file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.io_save" class="md-nav__link">
    <span class="md-ellipsis">
      io_save
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.to_iterable" class="md-nav__link">
    <span class="md-ellipsis">
      to_iterable
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.remove_duplicates" class="md-nav__link">
    <span class="md-ellipsis">
      remove_duplicates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.calculate_mp_cores" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_mp_cores
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.set_worker_affinity" class="md-nav__link">
    <span class="md-ellipsis">
      set_worker_affinity
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.mp_map" class="md-nav__link">
    <span class="md-ellipsis">
      mp_map
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.mp_starmap" class="md-nav__link">
    <span class="md-ellipsis">
      mp_starmap
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.bytes2human" class="md-nav__link">
    <span class="md-ellipsis">
      bytes2human
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.human2bytes" class="md-nav__link">
    <span class="md-ellipsis">
      human2bytes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_available_memory" class="md-nav__link">
    <span class="md-ellipsis">
      get_available_memory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_base_root_paths_recursively" class="md-nav__link">
    <span class="md-ellipsis">
      get_base_root_paths_recursively
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_file_paths_recursively" class="md-nav__link">
    <span class="md-ellipsis">
      get_file_paths_recursively
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_directory_file_paths" class="md-nav__link">
    <span class="md-ellipsis">
      get_directory_file_paths
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.collect_nanohedra_designs" class="md-nav__link">
    <span class="md-ellipsis">
      collect_nanohedra_designs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_base_nanohedra_dirs" class="md-nav__link">
    <span class="md-ellipsis">
      get_base_nanohedra_dirs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_docked_directories" class="md-nav__link">
    <span class="md-ellipsis">
      get_docked_directories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_docked_dirs_from_base" class="md-nav__link">
    <span class="md-ellipsis">
      get_docked_dirs_from_base
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.collect_designs" class="md-nav__link">
    <span class="md-ellipsis">
      collect_designs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_program_root_directory" class="md-nav__link">
    <span class="md-ellipsis">
      get_program_root_directory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.get_program_directories" class="md-nav__link">
    <span class="md-ellipsis">
      get_program_directories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.all_vs_all" class="md-nav__link">
    <span class="md-ellipsis">
      all_vs_all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.sym" class="md-nav__link">
    <span class="md-ellipsis">
      sym
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils.condensed_to_square" class="md-nav__link">
    <span class="md-ellipsis">
      condensed_to_square
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>utils</h1>

<div class="doc doc-object doc-module">



<a id="utils"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="utils.log_levels" class="doc doc-heading">
          <span class="doc doc-object-name doc-attribute-name">log_levels</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">log_levels</span> <span class="o">=</span> <span class="n">dict</span><span class="p">(</span><span class="n">zip</span><span class="p">(</span><span class="n"><span title="utils.log_level_keys">log_level_keys</span></span><span class="p">,</span> <span class="p">[</span><span class="n"><span title="logging.DEBUG">DEBUG</span></span><span class="p">,</span> <span class="n"><span title="logging.INFO">INFO</span></span><span class="p">,</span> <span class="n"><span title="logging.WARNING">WARNING</span></span><span class="p">,</span> <span class="n"><span title="logging.ERROR">ERROR</span></span><span class="p">,</span> <span class="n"><span title="logging.CRITICAL">CRITICAL</span></span><span class="p">,</span> <span class="n"><span title="logging.DEBUG">DEBUG</span></span><span class="p">,</span> <span class="n"><span title="logging.INFO">INFO</span></span><span class="p">,</span> <span class="n"><span title="logging.WARNING">WARNING</span></span><span class="p">,</span> <span class="n"><span title="logging.ERROR">ERROR</span></span><span class="p">,</span> <span class="n"><span title="logging.CRITICAL">CRITICAL</span></span><span class="p">,</span> <span class="n"><span title="logging.DEBUG">DEBUG</span></span><span class="p">,</span> <span class="n"><span title="logging.INFO">INFO</span></span><span class="p">,</span> <span class="n"><span title="logging.WARNING">WARNING</span></span><span class="p">,</span> <span class="n"><span title="logging.ERROR">ERROR</span></span><span class="p">,</span> <span class="n"><span title="logging.CRITICAL">CRITICAL</span></span><span class="p">,</span> <span class="n"><span title="logging.DEBUG">DEBUG</span></span><span class="p">,</span> <span class="n"><span title="logging.INFO">INFO</span></span><span class="p">,</span> <span class="n"><span title="logging.WARNING">WARNING</span></span><span class="p">,</span> <span class="n"><span title="logging.ERROR">ERROR</span></span><span class="p">,</span> <span class="n"><span title="logging.CRITICAL">CRITICAL</span></span><span class="p">,</span> <span class="n"><span title="logging.DEBUG">DEBUG</span></span><span class="p">,</span> <span class="n"><span title="logging.INFO">INFO</span></span><span class="p">,</span> <span class="n"><span title="logging.WARNING">WARNING</span></span><span class="p">,</span> <span class="n"><span title="logging.ERROR">ERROR</span></span><span class="p">,</span> <span class="n"><span title="logging.CRITICAL">CRITICAL</span></span><span class="p">,</span> <span class="n"><span title="logging.DEBUG">DEBUG</span></span><span class="p">,</span> <span class="n"><span title="logging.INFO">INFO</span></span><span class="p">,</span> <span class="n"><span title="logging.WARNING">WARNING</span></span><span class="p">,</span> <span class="n"><span title="logging.ERROR">ERROR</span></span><span class="p">,</span> <span class="n"><span title="logging.CRITICAL">CRITICAL</span></span><span class="p">]))</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>log_level = {
'debug': DEBUG, 'info': INFO, 'warning': WARNING, 'error': ERROR, 'critical': CRITICAL,
'DEBUG': DEBUG, 'INFO': INFO, 'WARNING': WARNING, 'ERROR': ERROR, 'CRITICAL': CRITICAL,
1: DEBUG, 2: INFO, 3: WARNING, 4: ERROR, 5: CRITICAL,
10: DEBUG, 20: INFO, 30: WARNING, 40: ERROR, 50: CRITICAL}</p>
  </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="utils.PoseSpecification" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">PoseSpecification</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">PoseSpecification</span><span class="p">(</span><span class="n">file</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">


                <details class="quote">
                  <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
                  <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">directive_delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;:&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">=</span> <span class="n">file</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">all_poses</span><span class="p">,</span> <span class="n">design_names</span><span class="p">,</span> <span class="n">all_design_directives</span><span class="p">,</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="c1"># pose_identifiers, design_names, all_design_directives, *_ = zip(*reader(file, dialect=self))</span>
        <span class="n">all_info</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)))</span>  <span class="c1"># dialect=self)))</span>

    <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_info</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">all_poses</span> <span class="o">=</span> <span class="n">all_info</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">design_names</span> <span class="o">=</span> <span class="n">all_info</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">all_design_directives</span> <span class="o">=</span> <span class="n">all_info</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

    <span class="c1"># logger.debug(f&#39;Found poses {all_poses}&#39;)</span>
    <span class="c1"># logger.debug(f&#39;Found designs {design_names}&#39;)</span>
    <span class="c1"># logger.debug(f&#39;Found directives {all_design_directives}&#39;)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pose_identifiers</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">,</span> <span class="n">all_poses</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">,</span> <span class="n">design_names</span><span class="p">))</span>

    <span class="c1"># First, split directives by white space, then by directive_delimiter</span>
    <span class="c1"># self.directives = \</span>
    <span class="c1">#     [dict((residue, directive) for residues_s, directive in [residue_directive.split(self.directive_delimiter)</span>
    <span class="c1">#                                                              for residue_directive in design_directives.split()]</span>
    <span class="c1">#           for residue in format_index_string(residues_s)) for design_directives in all_design_directives]</span>
    <span class="k">for</span> <span class="n">design_directives</span> <span class="ow">in</span> <span class="n">all_design_directives</span><span class="p">:</span>
        <span class="c1"># print(&#39;Design Directives&#39;, design_directives)</span>
        <span class="n">parsed_directives</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># for residues_s, directive in map(str.split, design_directives.split(), repeat(self.directive_delimiter)):</span>
        <span class="k">for</span> <span class="n">design_directive</span> <span class="ow">in</span> <span class="n">design_directives</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">design_specification</span><span class="p">,</span> <span class="n">directive</span> <span class="o">=</span> <span class="n">design_directive</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directive_delimiter</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>  <span class="c1"># Not enough values to unpack</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">design_specification</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">design_specification</span><span class="p">:</span>
                    <span class="n">parsed_directives</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">design_specification</span><span class="p">,</span> <span class="n">directive</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">parsed_directives</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="n">spec</span><span class="p">,</span> <span class="n">directive</span><span class="p">)</span> <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="n">format_index_string</span><span class="p">(</span><span class="n">design_specification</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">parsed_directives</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
                </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="utils.PoseSpecification.get_directives" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_directives</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_directives</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><span title="collections.abc.Generator">Generator</span></span><span class="p">[</span><span class="n">tuple</span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">list</span><span class="p">[</span><span class="n">dict</span><span class="p">[</span><span class="n">int</span><span class="p">,</span> <span class="n">str</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Retrieve the parsed PoseID, Design Name, and Mutation Directive information from a Specification file</p>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code><span title="collections.abc.Generator">Generator</span>[tuple[str, list[str] | None, list[dict[int, str]] | None], None, None]</code>
        
        <div class="doc-md-description">
          <p>An generator of tuples where each tuple contains the PoseID, then if provided in the parsed file, the
corresponding DesignID and then design directives. If they aren't provided then None will be returned
for the DesignID and directives.</p>
      </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_directives</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the parsed PoseID, Design Name, and Mutation Directive information from a Specification file</span>

<span class="sd">    Returns:</span>
<span class="sd">        An generator of tuples where each tuple contains the PoseID, then if provided in the parsed file, the</span>
<span class="sd">            corresponding DesignID and then design directives. If they aren&#39;t provided then None will be returned</span>
<span class="sd">            for the DesignID and directives.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Calculate whether there are multiple designs present per pose</span>
    <span class="n">found_poses</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">pose</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pose_identifiers</span><span class="p">):</span>
        <span class="c1"># if pose in found_poses:</span>
        <span class="n">found_poses</span><span class="p">[</span><span class="n">pose</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="c1"># else:</span>
        <span class="c1">#     found_poses[pose] = [idx]</span>

    <span class="c1"># Ensure correctly sized inputs. Create blank data otherwise</span>
    <span class="n">number_pose_identifiers</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pose_identifiers</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">:</span>  <span class="c1"># design_file</span>
        <span class="k">if</span> <span class="n">number_pose_identifiers</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The &#39;design identifiers&#39; provided to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> are a different length &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">)</span><span class="si">}</span><span class="s2">) than the &#39;pose identifiers&#39; (</span><span class="si">{</span><span class="n">number_pose_identifiers</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">number_pose_identifiers</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The &#39;directives&#39; provided to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> are a different length &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">)</span><span class="si">}</span><span class="s2">) than the &#39;pose identifiers&#39; (</span><span class="si">{</span><span class="n">number_pose_identifiers</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">directives</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">repeat</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">number_pose_identifiers</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">design_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">repeat</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">number_pose_identifiers</span><span class="p">))</span>
        <span class="n">directives</span> <span class="o">=</span> <span class="n">design_names</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Group the pose_identifiers with the design_names and directives</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">found_poses</span><span class="p">)</span> <span class="o">==</span> <span class="n">number_pose_identifiers</span><span class="p">:</span>  <span class="c1"># There is one design per pose</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">:</span>
            <span class="n">design_names</span> <span class="o">=</span> <span class="p">[[</span><span class="n">design_name</span><span class="p">]</span> <span class="k">for</span> <span class="n">design_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">:</span>
                <span class="n">directives</span> <span class="o">=</span> <span class="p">[[</span><span class="n">directive</span><span class="p">]</span> <span class="k">for</span> <span class="n">directive</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># More than one</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">:</span>
            <span class="n">design_names</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">design_names</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">]</span> <span class="k">for</span> <span class="n">indices</span> <span class="ow">in</span> <span class="n">found_poses</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
            <span class="k">for</span> <span class="n">pose_identifier</span><span class="p">,</span> <span class="n">names</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">found_poses</span><span class="p">,</span> <span class="n">design_names</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">names</span><span class="p">)):</span>
                    <span class="n">overlapping_designs</span> <span class="o">=</span> <span class="p">{</span><span class="n">design</span><span class="p">:</span> <span class="n">names</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">design</span><span class="p">)</span> <span class="k">for</span> <span class="n">design</span> <span class="ow">in</span> <span class="n">names</span><span class="p">}</span>
                    <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can&#39;t use a specification file with more than one entry for the same design&quot;</span>
                                     <span class="sa">f</span><span class="s2">&quot;.</span><span class="se">\n</span><span class="s2">The design</span><span class="si">{</span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">overlapping_designs</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;s&#39;</span><span class="si">}</span><span class="s2"> &quot;</span>
                                     <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">overlapping_designs</span><span class="p">)</span><span class="si">}</span><span class="s2"> for pose &#39;</span><span class="si">{</span><span class="n">pose_identifier</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">:</span>
                <span class="n">directives</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">directives</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">]</span> <span class="k">for</span> <span class="n">indices</span> <span class="ow">in</span> <span class="n">found_poses</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

    <span class="c1"># With above logic, it&#39;s impossible to have UnboundLocalError of design_names, directives</span>
    <span class="k">return</span> <span class="nb">zip</span><span class="p">(</span><span class="n">found_poses</span><span class="p">,</span> <span class="n">design_names</span><span class="p">,</span> <span class="n">directives</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h2 id="utils.dictionary_lookup" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">dictionary_lookup</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">dictionary_lookup</span><span class="p">(</span><span class="n">dictionary</span><span class="p">:</span> <span class="n">dict</span><span class="p">,</span> <span class="n">items</span><span class="p">:</span> <span class="n">tuple</span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the values of a dictionary for the item pairs nested within</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>dictionary</code></b>
            (<code>dict</code>)
        
        <div class="doc-md-description">
          <p>The dictionary to search</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>items</code></b>
            (<code>tuple[<span title="typing.Any">Any</span>, ...]</code>)
        
        <div class="doc-md-description">
          <p>The tuple of keys to search for</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The value specified by dictionary keys</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">dictionary_lookup</span><span class="p">(</span><span class="n">dictionary</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">items</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the values of a dictionary for the item pairs nested within</span>

<span class="sd">    Args:</span>
<span class="sd">        dictionary: The dictionary to search</span>
<span class="sd">        items: The tuple of keys to search for</span>
<span class="sd">    Returns:</span>
<span class="sd">        The value specified by dictionary keys</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">getitem</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.set_dictionary_by_path" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">set_dictionary_by_path</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">set_dictionary_by_path</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Set a value in a nested object in root by item sequence.</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_dictionary_by_path</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set a value in a nested object in root by item sequence.&quot;&quot;&quot;</span>
    <span class="n">dictionary_lookup</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">items</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])[</span><span class="n">items</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.handle_errors" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">handle_errors</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">handle_errors</span><span class="p">(</span><span class="n">errors</span><span class="p">:</span> <span class="n">tuple</span><span class="p">[</span><span class="n"><span title="typing.Type">Type</span></span><span class="p">[</span><span class="n">Exception</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Decorator to wrap a function with try: ... except errors:</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>errors</code></b>
            (<code>tuple[<span title="typing.Type">Type</span>[Exception], ...]</code>, default:
                <code>(Exception)</code>
)
        
        <div class="doc-md-description">
          <p>A tuple of exceptions to monitor, even if single exception</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    Function return upon proper execution, else the Exception if one was raised</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">handle_errors</span><span class="p">(</span><span class="n">errors</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="ne">Exception</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="ne">Exception</span><span class="p">,))</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Decorator to wrap a function with try: ... except errors:</span>

<span class="sd">    Args:</span>
<span class="sd">        errors: A tuple of exceptions to monitor, even if single exception</span>
<span class="sd">    Returns:</span>
<span class="sd">        Function return upon proper execution, else the Exception if one was raised</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapped</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">errors</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">error</span>
        <span class="k">return</span> <span class="n">wrapped</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.timestamp" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">timestamp</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">timestamp</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the date/time formatted as YR-MO-DA-HRMNSC. Ex: 2022-Jan-01-245959</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">timestamp</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the date/time formatted as YR-MO-DA-HRMNSC. Ex: 2022-Jan-01-245959&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%y-%m-</span><span class="si">%d</span><span class="s1">-%H%M%S&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.datestamp" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">datestamp</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">datestamp</span><span class="p">(</span><span class="n">short</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the date/time formatted as Year-Mon-DA.</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>short</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether to return the short date</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    Ex: 2022-Jan-01 or 01-Jan-22 if short</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">datestamp</span><span class="p">(</span><span class="n">short</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the date/time formatted as Year-Mon-DA.</span>

<span class="sd">    Args:</span>
<span class="sd">        short: Whether to return the short date</span>
<span class="sd">    Returns:</span>
<span class="sd">        Ex: 2022-Jan-01 or 01-Jan-22 if short</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">short</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">-%b-%y&#39;</span><span class="p">)</span>  <span class="c1"># Desired PDB format</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%b-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># Preferred format</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.start_log" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">start_log</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">start_log</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="n"><span title="utils.logging_level_literal">logging_level_literal</span></span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">propagate</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">format_log</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">no_log_name</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">handler_level</span><span class="p">:</span> <span class="n"><span title="utils.logging_level_literal">logging_level_literal</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="logging.Logger">Logger</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a logger to handle program messages</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>name</code></b>
            (<code>str</code>, default:
                <code>&#39;&#39;</code>
)
        
        <div class="doc-md-description">
          <p>The name of the logger. By default, the root logger is returned</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>handler</code></b>
            (<code>int</code>, default:
                <code>1</code>
)
        
        <div class="doc-md-description">
          <p>Whether to handle to stream (1), a file (2), or a NullHandler (3+)</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>level</code></b>
            (<code><span title="utils.logging_level_literal">logging_level_literal</span></code>, default:
                <code>2</code>
)
        
        <div class="doc-md-description">
          <p>What level of messages to emit (1-debug, 2-info, 3-warning, 4-error, 5-critical)</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>location</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>, default:
                <code><span title="os.getcwd">getcwd</span>()</code>
)
        
        <div class="doc-md-description">
          <p>If a FileHandler is used (handler=2) where should file be written? .log is appended to the filename</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>propagate</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether to propagate messages to parent loggers (such as root or parent.current_logger)</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>format_log</code></b>
            (<code>bool</code>, default:
                <code>True</code>
)
        
        <div class="doc-md-description">
          <p>Whether to format the log with logger specific formatting otherwise use message format</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>no_log_name</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether to omit the logger name from the output</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>handler_level</code></b>
            (<code><span title="utils.logging_level_literal">logging_level_literal</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Whether to set the level for the logger handler on top of the overall level</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    Logger object to handle messages</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">start_log</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="n">logging_level_literal</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">location</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
              <span class="n">propagate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">format_log</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">no_log_name</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
              <span class="n">handler_level</span><span class="p">:</span> <span class="n">logging_level_literal</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Logger</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a logger to handle program messages</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name of the logger. By default, the root logger is returned</span>
<span class="sd">        handler: Whether to handle to stream (1), a file (2), or a NullHandler (3+)</span>
<span class="sd">        level: What level of messages to emit (1-debug, 2-info, 3-warning, 4-error, 5-critical)</span>
<span class="sd">        location: If a FileHandler is used (handler=2) where should file be written? .log is appended to the filename</span>
<span class="sd">        propagate: Whether to propagate messages to parent loggers (such as root or parent.current_logger)</span>
<span class="sd">        format_log: Whether to format the log with logger specific formatting otherwise use message format</span>
<span class="sd">        no_log_name: Whether to omit the logger name from the output</span>
<span class="sd">        handler_level: Whether to set the level for the logger handler on top of the overall level</span>
<span class="sd">    Returns:</span>
<span class="sd">        Logger object to handle messages</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_logger</span> <span class="o">=</span> <span class="n">getLogger</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">_logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">log_levels</span><span class="p">[</span><span class="n">level</span><span class="p">])</span>
    <span class="c1"># Todo make a mechanism to only emit warning or higher if propagate=True</span>
    <span class="c1">#  See below this function for adding handler[0].addFilter()</span>
    <span class="n">_logger</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="n">propagate</span>
    <span class="k">if</span> <span class="n">format_log</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">no_log_name</span><span class="p">:</span>
            <span class="n">message_fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[38;5;208m</span><span class="si">{levelname}</span><span class="se">\033</span><span class="s1">[0;0m: </span><span class="si">{message}</span><span class="s1">&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">message_fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[38;5;93m</span><span class="si">{name}</span><span class="se">\033</span><span class="s1">[0;0m-</span><span class="se">\033</span><span class="s1">[38;5;208m</span><span class="si">{levelname}</span><span class="se">\033</span><span class="s1">[0;0m: </span><span class="si">{message}</span><span class="s1">&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">message_fmt</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{message}</span><span class="s1">&#39;</span>

    <span class="n">_handler</span> <span class="o">=</span> <span class="n">log_handler</span><span class="p">[</span><span class="n">handler</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">handler</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1"># Check for extension. If one doesn&#39;t exist, add &quot;.log&quot;</span>
        <span class="n">lh</span> <span class="o">=</span> <span class="n">_handler</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">location</span><span class="si">}</span><span class="s1">.log&#39;</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">location</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="k">else</span> <span class="n">location</span><span class="p">,</span>
                      <span class="n">delay</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># Set delay=True to prevent the log from opening until the first emit() is called</span>
        <span class="c1"># Remove any coloring from the log</span>
        <span class="n">message_fmt</span> <span class="o">=</span> <span class="p">(</span><span class="n">message_fmt</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[38;5;208m&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                       <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[38;5;93m&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                       <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0;0m&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Check if a StreamHandler already exists</span>
        <span class="n">remove_streams</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">handler</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">_logger</span><span class="o">.</span><span class="n">handlers</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="s1">&#39;stream&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">remove_streams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">stream_idx</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">remove_streams</span><span class="p">):</span>
            <span class="n">_logger</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">stream_idx</span><span class="p">)</span>

        <span class="n">lh</span> <span class="o">=</span> <span class="n">_handler</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">handler_level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">lh</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">log_levels</span><span class="p">[</span><span class="n">handler_level</span><span class="p">])</span>

    <span class="n">log_format</span> <span class="o">=</span> <span class="n">Formatter</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="n">message_fmt</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;{&#39;</span><span class="p">)</span>
    <span class="n">lh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">log_format</span><span class="p">)</span>
    <span class="n">_logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">lh</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_logger</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.set_logging_to_level" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">set_logging_to_level</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">set_logging_to_level</span><span class="p">(</span><span class="n">level</span><span class="p">:</span> <span class="n"><span title="utils.logging_level_literal">logging_level_literal</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">handler_level</span><span class="p">:</span> <span class="n"><span title="utils.logging_level_literal">logging_level_literal</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>For each Logger in current run time, set the Logger or the Logger.handlers level to level</p>
<p>level is debug by default if no arguments are specified</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>level</code></b>
            (<code><span title="utils.logging_level_literal">logging_level_literal</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The level to set all loggers to</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>handler_level</code></b>
            (<code><span title="utils.logging_level_literal">logging_level_literal</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The level to set all logger handlers to</p>
        </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_logging_to_level</span><span class="p">(</span><span class="n">level</span><span class="p">:</span> <span class="n">logging_level_literal</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">handler_level</span><span class="p">:</span> <span class="n">logging_level_literal</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For each Logger in current run time, set the Logger or the Logger.handlers level to level</span>

<span class="sd">    level is debug by default if no arguments are specified</span>

<span class="sd">    Args:</span>
<span class="sd">        level: The level to set all loggers to</span>
<span class="sd">        handler_level: The level to set all logger handlers to</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_level</span> <span class="o">=</span> <span class="n">log_levels</span><span class="p">[</span><span class="n">level</span><span class="p">]</span>
        <span class="n">set_level_func</span> <span class="o">=</span> <span class="n">Logger</span><span class="o">.</span><span class="n">setLevel</span>
    <span class="k">elif</span> <span class="n">handler_level</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># Todo possibly rework this to accept both arguments</span>
        <span class="n">_level</span> <span class="o">=</span> <span class="n">log_levels</span><span class="p">[</span><span class="n">handler_level</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">set_level_func</span><span class="p">(</span><span class="n">logger_</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span> <span class="n">level_</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">handler</span> <span class="ow">in</span> <span class="n">logger_</span><span class="o">.</span><span class="n">handlers</span><span class="p">:</span>
                <span class="n">handler</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">level_</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># if level is None and handler_level is None:</span>
        <span class="n">_level</span> <span class="o">=</span> <span class="n">log_levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">set_level_func</span> <span class="o">=</span> <span class="n">Logger</span><span class="o">.</span><span class="n">setLevel</span>

    <span class="c1"># print(root_logger.manager.loggerDict)</span>
    <span class="k">for</span> <span class="n">logger_name</span> <span class="ow">in</span> <span class="n">root_logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">:</span>
        <span class="n">_logger</span> <span class="o">=</span> <span class="n">getLogger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>
        <span class="n">set_level_func</span><span class="p">(</span><span class="n">_logger</span><span class="p">,</span> <span class="n">_level</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.set_loggers_to_propagate" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">set_loggers_to_propagate</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">set_loggers_to_propagate</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>For each Logger in current run time, set the Logger to propagate</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_loggers_to_propagate</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;For each Logger in current run time, set the Logger to propagate&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">logger_name</span> <span class="ow">in</span> <span class="n">root_logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">loggerDict</span><span class="p">:</span>
        <span class="n">_logger</span> <span class="o">=</span> <span class="n">getLogger</span><span class="p">(</span><span class="n">logger_name</span><span class="p">)</span>
        <span class="n">_logger</span><span class="o">.</span><span class="n">propagate</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.pretty_format_table" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">pretty_format_table</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">pretty_format_table</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n">tuple</span> <span class="o">|</span> <span class="n">dict</span><span class="p">],</span> <span class="n">justification</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header_justification</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span><span class="p">[</span><span class="n">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Present a table in readable format by sizing and justifying columns in a nested data structure
i.e. [row1[column1, column2, ...], row2[], ...]</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>data</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span>[tuple | dict]</code>)
        
        <div class="doc-md-description">
          <p>Where each successive element is a row and each row's sub-elements are unique columns.
The typical data structure would be [[i, j, k], [yes, 4, 0.1], [no, 5, 0.3]]</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>justification</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span>[str]</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Iterable with elements 'l'/'left', 'r'/'right', or 'c'/'center' as justification values</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>header</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span>[str]</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The names of values to place in the table header</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>header_justification</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span>[str]</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Iterable with elements 'l'/'left', 'r'/'right', or 'c'/'center' as justification values</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The formatted data with each input row justified as an individual element in the list</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pretty_format_table</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">tuple</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">],</span> <span class="n">justification</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                        <span class="n">header_justification</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Present a table in readable format by sizing and justifying columns in a nested data structure</span>
<span class="sd">    i.e. [row1[column1, column2, ...], row2[], ...]</span>

<span class="sd">    Args:</span>
<span class="sd">        data: Where each successive element is a row and each row&#39;s sub-elements are unique columns.</span>
<span class="sd">            The typical data structure would be [[i, j, k], [yes, 4, 0.1], [no, 5, 0.3]]</span>
<span class="sd">        justification: Iterable with elements &#39;l&#39;/&#39;left&#39;, &#39;r&#39;/&#39;right&#39;, or &#39;c&#39;/&#39;center&#39; as justification values</span>
<span class="sd">        header: The names of values to place in the table header</span>
<span class="sd">        header_justification: Iterable with elements &#39;l&#39;/&#39;left&#39;, &#39;r&#39;/&#39;right&#39;, or &#39;c&#39;/&#39;center&#39; as justification values</span>
<span class="sd">    Returns:</span>
<span class="sd">        The formatted data with each input row justified as an individual element in the list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">justification_d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;l&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">ljust</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">rjust</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
                       <span class="s1">&#39;left&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">ljust</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">rjust</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">center</span><span class="p">}</span>
    <span class="c1"># Incase data is passed as a dictionary, we should turn into an iterator of key, value</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>

    <span class="c1"># Format data as list so we can insert header</span>
    <span class="c1"># data = [[column for column in row] for row in data]</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">number_columns</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">header</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span> <span class="o">==</span> <span class="n">number_columns</span><span class="p">:</span>
            <span class="n">data</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">header</span><span class="p">)</span>  <span class="c1"># list(header))</span>
            <span class="k">if</span> <span class="n">header_justification</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">header_justification</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">ljust</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_columns</span><span class="p">))</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">header_justification</span><span class="p">)</span> <span class="o">==</span> <span class="n">number_columns</span><span class="p">:</span>
                <span class="n">header_justification</span> <span class="o">=</span> <span class="p">[</span><span class="n">justification_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="nb">str</span><span class="o">.</span><span class="n">ljust</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">header_justification</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The header_justification length (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">header_justification</span><span class="p">)</span><span class="si">}</span><span class="s2">) doesn&#39;t match the number of columns&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; (</span><span class="si">{</span><span class="n">number_columns</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The header length (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span><span class="si">}</span><span class="s2">) doesn&#39;t match the number of columns (</span><span class="si">{</span><span class="n">number_columns</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="n">column_widths</span> <span class="o">=</span> <span class="n">get_table_column_widths</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="c1"># number_columns = len(column_widths)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">justification</span><span class="p">:</span>
        <span class="n">justifications</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">ljust</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_columns</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">justification</span><span class="p">)</span> <span class="o">==</span> <span class="n">number_columns</span><span class="p">:</span>
        <span class="n">justifications</span> <span class="o">=</span> <span class="p">[</span><span class="n">justification_d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="nb">str</span><span class="o">.</span><span class="n">ljust</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">justification</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The justification length (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">justification</span><span class="p">)</span><span class="si">}</span><span class="s2">) doesn&#39;t match the number of columns (</span><span class="si">{</span><span class="n">number_columns</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">header_justification</span><span class="p">[</span><span class="n">idx</span><span class="p">](</span><span class="n">column</span><span class="p">,</span> <span class="n">column_widths</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span> <span class="k">if</span> <span class="n">row_idx</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">header</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                     <span class="k">else</span> <span class="n">justifications</span><span class="p">[</span><span class="n">idx</span><span class="p">](</span><span class="n">column</span><span class="p">,</span> <span class="n">column_widths</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                     <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">row_entry</span><span class="p">)))</span>
            <span class="k">for</span> <span class="n">row_idx</span><span class="p">,</span> <span class="n">row_entry</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_table_column_widths" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_table_column_widths</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_table_column_widths</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tuple</span><span class="p">[</span><span class="n">int</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Find the widths of each column in a nested data structure</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>data</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span></code>)
        
        <div class="doc-md-description">
          <p>Where each successive element is a row and each row's sub-elements are unique columns</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    A tuple containing the width of each column from the input data</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_table_column_widths</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the widths of each column in a nested data structure</span>

<span class="sd">    Args:</span>
<span class="sd">        data: Where each successive element is a row and each row&#39;s sub-elements are unique columns</span>
<span class="sd">    Returns:</span>
<span class="sd">        A tuple containing the width of each column from the input data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">column</span><span class="p">)))</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.read_json" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">read_json</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">read_json</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dict</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Use json.load to read an object from a file</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>file_name</code></b>
        
        <div class="doc-md-description">
          <p>The location of the file to write</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The json data in the file</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">read_json</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Use json.load to read an object from a file</span>

<span class="sd">    Args:</span>
<span class="sd">        file_name: The location of the file to write</span>
<span class="sd">    Returns:</span>
<span class="sd">        The json data in the file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f_save</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f_save</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.write_json" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">write_json</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">write_json</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Use json.dump to write an object to a file</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>data</code></b>
            (<code><span title="typing.Any">Any</span></code>)
        
        <div class="doc-md-description">
          <p>The object to write</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>file_name</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>)
        
        <div class="doc-md-description">
          <p>The location of the file to write</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The name of the written file</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">write_json</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyStr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Use json.dump to write an object to a file</span>

<span class="sd">    Args:</span>
<span class="sd">        data: The object to write</span>
<span class="sd">        file_name: The location of the file to write</span>
<span class="sd">    Returns:</span>
<span class="sd">        The name of the written file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f_save</span><span class="p">:</span>
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f_save</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">file_name</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.unpickle" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">unpickle</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">unpickle</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.Any">Any</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Unpickle (deserialize) and return a python object located at filename</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">unpickle</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>  <span class="c1"># , protocol=pickle.HIGHEST_PROTOCOL):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Unpickle (deserialize) and return a python object located at filename&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;.pkl&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">file_name</span> <span class="ow">and</span> <span class="s1">&#39;.pickle&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">file_name</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.pkl&#39;</span> <span class="o">%</span> <span class="n">file_name</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">serial_f</span><span class="p">:</span>
            <span class="n">new_object</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">serial_f</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">EOFError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The serialized file &#39;</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2">&#39; contains no data.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">new_object</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.pickle_object" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">pickle_object</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">pickle_object</span><span class="p">(</span><span class="n">target_object</span><span class="p">:</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">out_path</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="n">protocol</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Pickle (serialize) an object into a file named "out_path/name.pkl". Automatically adds extension</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>target_object</code></b>
            (<code><span title="typing.Any">Any</span></code>)
        
        <div class="doc-md-description">
          <p>Any python object</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>name</code></b>
            (<code>str</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The name of the pickled file</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>out_path</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>, default:
                <code><span title="os.getcwd">getcwd</span>()</code>
)
        
        <div class="doc-md-description">
          <p>Where the file should be written</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>protocol</code></b>
            (<code>int</code>, default:
                <code><span title="pickle.HIGHEST_PROTOCOL">HIGHEST_PROTOCOL</span></code>
)
        
        <div class="doc-md-description">
          <p>The pickling protocol to use</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The pickled filename</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">pickle_object</span><span class="p">(</span><span class="n">target_object</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">out_path</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span>
                  <span class="n">protocol</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">HIGHEST_PROTOCOL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyStr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pickle (serialize) an object into a file named &quot;out_path/name.pkl&quot;. Automatically adds extension</span>

<span class="sd">    Args:</span>
<span class="sd">        target_object: Any python object</span>
<span class="sd">        name: The name of the pickled file</span>
<span class="sd">        out_path: Where the file should be written</span>
<span class="sd">        protocol: The pickling protocol to use</span>
<span class="sd">    Returns:</span>
<span class="sd">        The pickled filename</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">out_path</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">out_path</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">file_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.pkl&#39;</span><span class="p">):</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s1">.pkl&#39;</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">target_object</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">protocol</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">file_name</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.remove_interior_keys" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">remove_interior_keys</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">remove_interior_keys</span><span class="p">(</span><span class="n">dictionary</span><span class="p">:</span> <span class="n">dict</span><span class="p">,</span> <span class="n">keys</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">,</span> <span class="n">keep</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">dict</span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n">dict</span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">,</span> <span class="n"><span title="typing.Any">Any</span></span><span class="p">]]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Clean specified keys from a dictionaries internal dictionary. Default removes the specified keys</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>dictionary</code></b>
            (<code>dict</code>)
        
        <div class="doc-md-description">
          <p>{outer_dictionary: {key: value, key2: value2, ...}, ...}</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>keys</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span></code>)
        
        <div class="doc-md-description">
          <p>Keys to be removed from dictionary, such as [key2, key10]</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>keep</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether to keep (True) or remove (False) specified keys</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    {outer_dictionary: {key: value, ...}, ...} - Cleaned dictionary</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_interior_keys</span><span class="p">(</span><span class="n">dictionary</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">keys</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">keep</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clean specified keys from a dictionaries internal dictionary. Default removes the specified keys</span>

<span class="sd">    Args:</span>
<span class="sd">        dictionary: {outer_dictionary: {key: value, key2: value2, ...}, ...}</span>
<span class="sd">        keys: Keys to be removed from dictionary, such as [key2, key10]</span>
<span class="sd">        keep: Whether to keep (True) or remove (False) specified keys</span>
<span class="sd">    Returns:</span>
<span class="sd">        {outer_dictionary: {key: value, ...}, ...} - Cleaned dictionary</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">keep</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">entry</span><span class="p">:</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">dictionary</span><span class="p">[</span><span class="n">entry</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">[</span><span class="n">entry</span><span class="p">]</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">}</span>
                <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="n">dictionary</span><span class="p">[</span><span class="n">entry</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">dictionary</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.clean_comma_separated_string" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">clean_comma_separated_string</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">clean_comma_separated_string</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return a list from a comma separated string</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clean_comma_separated_string</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a list from a comma separated string&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.format_index_string" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">format_index_string</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">format_index_string</span><span class="p">(</span><span class="n">index_string</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n">int</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>From a string with indices of interest, comma separated or in a range, format into individual, integer indices</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>index_string</code></b>
            (<code>str</code>)
        
        <div class="doc-md-description">
          <p>23, 34,35,56-89, 290</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    Indices in Pose formatting</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">format_index_string</span><span class="p">(</span><span class="n">index_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;From a string with indices of interest, comma separated or in a range, format into individual, integer indices</span>

<span class="sd">    Args:</span>
<span class="sd">        index_string: 23, 34,35,56-89, 290</span>
<span class="sd">    Returns:</span>
<span class="sd">        Indices in Pose formatting</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">final_index</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">clean_comma_separated_string</span><span class="p">(</span><span class="n">index_string</span><span class="p">):</span>
        <span class="k">if</span> <span class="s1">&#39;-&#39;</span> <span class="ow">in</span> <span class="n">index</span><span class="p">:</span>  <span class="c1"># This is a range, extract ranges</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>  <span class="c1"># Too many values to unpack</span>
                <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Couldn&#39;t coerce the range &#39;</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&#39; to a compatible range. Use the format 1-4 to specify the &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;index consisting of 1,2,3,4&quot;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">final_index</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">idx</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">low</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">high</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)])</span>  <span class="c1"># Include the last integer in range</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Couldn&#39;t coerce the input &#39;</span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&#39; to a compatible range(</span><span class="si">{</span><span class="n">low</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">high</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Single integer</span>
            <span class="n">final_index</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">final_index</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.write_file" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">write_file</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">write_file</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Take an iterable and either output to user, write to a file, or both. User defined choice</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>data</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span></code>)
        
        <div class="doc-md-description">
          <p>The data to write to file</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>file_name</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The name of the file to write to</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The name of the output file</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">write_file</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyStr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Take an iterable and either output to user, write to a file, or both. User defined choice</span>

<span class="sd">    Args:</span>
<span class="sd">        data: The data to write to file</span>
<span class="sd">        file_name: The name of the file to write to</span>
<span class="sd">    Returns:</span>
<span class="sd">        The name of the output file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">file_name</span><span class="p">:</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;What is your desired filename? (appended to current working &#39;</span>
                                                    <span class="sa">f</span><span class="s1">&#39;directory)</span><span class="si">{</span><span class="n">query</span><span class="o">.</span><span class="n">input_string</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">file_name</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.io_save" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">io_save</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">io_save</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Take an iterable and either output to user, write to a file, or both. User defined choice</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>data</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span></code>)
        
        <div class="doc-md-description">
          <p>The data to write to file</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>file_name</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The name of the file to write to</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The name of the output file</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">io_save</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyStr</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Take an iterable and either output to user, write to a file, or both. User defined choice</span>

<span class="sd">    Args:</span>
<span class="sd">        data: The data to write to file</span>
<span class="sd">        file_name: The name of the file to write to</span>
<span class="sd">    Returns:</span>
<span class="sd">        The name of the output file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">io_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Enter &#39;P&#39; to print Data, &#39;W&#39; to write Data to file, or &#39;B&#39; for both</span><span class="si">{</span><span class="n">query</span><span class="o">.</span><span class="n">input_string</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
    <span class="n">_input</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">validate_input</span><span class="p">(</span><span class="n">io_prompt</span><span class="p">,</span> <span class="n">response</span><span class="o">=</span><span class="n">response</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">_input</span> <span class="ow">in</span> <span class="s1">&#39;bp&#39;</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">)))</span>

    <span class="k">if</span> <span class="n">_input</span> <span class="ow">in</span> <span class="s1">&#39;wb&#39;</span><span class="p">:</span>
        <span class="n">write_file</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">file_name</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.to_iterable" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">to_iterable</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">to_iterable</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">|</span> <span class="n">list</span><span class="p">,</span> <span class="n">ensure_file</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">skip_comma</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Take an object and return a list of individual objects splitting on newline or comma</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>obj</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span> | list</code>)
        
        <div class="doc-md-description">
          <p>The object to convert to an Iterable</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>ensure_file</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether to ensure the passed obj is a file</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>skip_comma</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether to skip commas when converting the records to an iterable</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The Iterable formed from the input obj</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_iterable</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">|</span> <span class="nb">list</span><span class="p">,</span> <span class="n">ensure_file</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">skip_comma</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Take an object and return a list of individual objects splitting on newline or comma</span>

<span class="sd">    Args:</span>
<span class="sd">        obj: The object to convert to an Iterable</span>
<span class="sd">        ensure_file: Whether to ensure the passed obj is a file</span>
<span class="sd">        skip_comma: Whether to skip commas when converting the records to an iterable</span>
<span class="sd">    Returns:</span>
<span class="sd">        The Iterable formed from the input obj</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">iterable</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">)</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="ne">FileNotFoundError</span><span class="p">)</span> <span class="ow">and</span> <span class="n">ensure_file</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">error</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">iterable</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Assume that obj is a string</span>
            <span class="n">iterable</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span>

    <span class="n">clean_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">skip_comma</span><span class="p">:</span>
            <span class="n">it_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">it_list</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
        <span class="n">clean_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">strip</span><span class="p">,</span> <span class="n">it_list</span><span class="p">))</span>

    <span class="c1"># # Remove duplicates but keep the order</span>
    <span class="c1"># clean_list = remove_duplicates(clean_list)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">clean_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">clean_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">))</span>  <span class="c1"># Remove any missing values</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">return</span> <span class="n">clean_list</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.remove_duplicates" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">remove_duplicates</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">remove_duplicates</span><span class="p">(</span><span class="n">iter_</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>An efficient, order maintaining, set function to remove duplicates</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_duplicates</span><span class="p">(</span><span class="n">iter_</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An efficient, order maintaining, set function to remove duplicates&quot;&quot;&quot;</span>
    <span class="n">seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">seen_add</span> <span class="o">=</span> <span class="n">seen</span><span class="o">.</span><span class="n">add</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">iter_</span> <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">seen</span> <span class="ow">or</span> <span class="n">seen_add</span><span class="p">(</span><span class="n">x</span><span class="p">))]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.calculate_mp_cores" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">calculate_mp_cores</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">calculate_mp_cores</span><span class="p">(</span><span class="n">cores</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">mpi</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">jobs</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Calculate the number of multiprocessing cores to use for a specific application, taking the minimum</p>
<p>Default options specify to leave at least one CPU available for the machine. If a SLURM environment is used,
the number of cores will reflect the environmental variable SLURM_CPUS_PER_TASK
Args:
    cores: How many cpu's to use
    mpi: If commands use MPI
    jobs: How many jobs to use
Returns:
    The number of cores to use taking the minimum of cores, jobs, and max cpus available</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_mp_cores</span><span class="p">(</span><span class="n">cores</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">mpi</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the number of multiprocessing cores to use for a specific application, taking the minimum</span>

<span class="sd">    Default options specify to leave at least one CPU available for the machine. If a SLURM environment is used,</span>
<span class="sd">    the number of cores will reflect the environmental variable SLURM_CPUS_PER_TASK</span>
<span class="sd">    Args:</span>
<span class="sd">        cores: How many cpu&#39;s to use</span>
<span class="sd">        mpi: If commands use MPI</span>
<span class="sd">        jobs: How many jobs to use</span>
<span class="sd">    Returns:</span>
<span class="sd">        The number of cores to use taking the minimum of cores, jobs, and max cpus available</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">allocated_cpus</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;SLURM_CPUS_PER_TASK&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">allocated_cpus</span><span class="p">:</span>  <span class="c1"># Should follow allocation from SLURM environment</span>
        <span class="n">max_cpus_to_use</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">allocated_cpus</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># logical=False only uses physical cpus, not logical threads</span>
        <span class="n">max_cpus_to_use</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">(</span><span class="n">logical</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># Leave CPU available for computer</span>

    <span class="k">if</span> <span class="n">cores</span> <span class="ow">or</span> <span class="n">jobs</span><span class="p">:</span>
        <span class="c1"># Take the minimum</span>
        <span class="n">infinity</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">((</span><span class="n">cores</span> <span class="ow">or</span> <span class="n">infinity</span><span class="p">),</span> <span class="p">(</span><span class="n">jobs</span> <span class="ow">or</span> <span class="n">infinity</span><span class="p">),</span> <span class="n">max_cpus_to_use</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">mpi</span><span class="p">:</span>  <span class="c1"># Todo grab an environmental variable for mpi cores?</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_cpus_to_use</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1"># distribute.mpi)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">max_cpus_to_use</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.set_worker_affinity" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">set_worker_affinity</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">set_worker_affinity</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>When a new worker process is created, use this initialization function to set the affinity for all CPUs.
Especially important for multiprocessing in the context of numpy, scipy, pandas
FROM Stack Overflow:
https://stackoverflow.com/questions/15639779/why-does-multiprocessing-use-only-a-single-core-after-i-import-numpy</p>

<details class="see" open>
  <summary>http://manpages.ubuntu.com/manpages/precise/en/man1/taskset.1.html</summary>
  <p>-p is a mask for the logical cpu processors to use, the pid allows the affinity for an existing process to be
specified instead of a new process being spawned</p>
</details>
          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_worker_affinity</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;When a new worker process is created, use this initialization function to set the affinity for all CPUs.</span>
<span class="sd">    Especially important for multiprocessing in the context of numpy, scipy, pandas</span>
<span class="sd">    FROM Stack Overflow:</span>
<span class="sd">    https://stackoverflow.com/questions/15639779/why-does-multiprocessing-use-only-a-single-core-after-i-import-numpy</span>

<span class="sd">    See: http://manpages.ubuntu.com/manpages/precise/en/man1/taskset.1.html</span>
<span class="sd">        -p is a mask for the logical cpu processors to use, the pid allows the affinity for an existing process to be</span>
<span class="sd">        specified instead of a new process being spawned</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_cmd</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;taskset&#39;</span><span class="p">,</span> <span class="s1">&#39;-p&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;0x</span><span class="si">{</span><span class="s2">&quot;f&quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">int</span><span class="p">((</span><span class="n">psutil</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">())]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">subprocess</span><span class="o">.</span><span class="n">list2cmdline</span><span class="p">(</span><span class="n">_cmd</span><span class="p">))</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">_cmd</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">STDOUT</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.mp_map" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">mp_map</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">mp_map</span><span class="p">(</span><span class="n">function</span><span class="p">:</span> <span class="n"><span title="collections.abc.Callable">Callable</span></span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">,</span> <span class="n">processes</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;spawn&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Maps an interable input with a single argument to a function using multiprocessing Pool</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>function</code></b>
            (<code><span title="collections.abc.Callable">Callable</span></code>)
        
        <div class="doc-md-description">
          <p>Which function should be executed</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>arg</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span></code>)
        
        <div class="doc-md-description">
          <p>Arguments to be unpacked in the defined function, order specific</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>processes</code></b>
            (<code>int</code>, default:
                <code>1</code>
)
        
        <div class="doc-md-description">
          <p>How many workers/cores should be spawned to handle function(arguments)?</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>context</code></b>
            (<code>str</code>, default:
                <code>&#39;spawn&#39;</code>
)
        
        <div class="doc-md-description">
          <p>How to start new processes? One of 'spawn', 'fork', or 'forkserver'.</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The results produced from the function and arg</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mp_map</span><span class="p">(</span><span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">processes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;spawn&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Maps an interable input with a single argument to a function using multiprocessing Pool</span>

<span class="sd">    Args:</span>
<span class="sd">        function: Which function should be executed</span>
<span class="sd">        arg: Arguments to be unpacked in the defined function, order specific</span>
<span class="sd">        processes: How many workers/cores should be spawned to handle function(arguments)?</span>
<span class="sd">        context: How to start new processes? One of &#39;spawn&#39;, &#39;fork&#39;, or &#39;forkserver&#39;.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The results produced from the function and arg</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># with mp.get_context(context).Pool(processes=processes) as p:  # , maxtasksperchild=100</span>
    <span class="k">with</span> <span class="n">mp</span><span class="o">.</span><span class="n">get_context</span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="o">.</span><span class="n">Pool</span><span class="p">(</span><span class="n">processes</span><span class="o">=</span><span class="n">processes</span><span class="p">,</span> <span class="n">initializer</span><span class="o">=</span><span class="n">set_worker_affinity</span><span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.mp_starmap" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">mp_starmap</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">mp_starmap</span><span class="p">(</span><span class="n">function</span><span class="p">:</span> <span class="n"><span title="collections.abc.Callable">Callable</span></span><span class="p">,</span> <span class="n">star_args</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">[</span><span class="n">tuple</span><span class="p">],</span> <span class="n">processes</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;spawn&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.Any">Any</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Maps an iterable input with multiple arguments to a function using multiprocessing Pool</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>function</code></b>
            (<code><span title="collections.abc.Callable">Callable</span></code>)
        
        <div class="doc-md-description">
          <p>Which function should be executed</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>star_args</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span>[tuple]</code>)
        
        <div class="doc-md-description">
          <p>Arguments to be unpacked in the defined function, order specific</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>processes</code></b>
            (<code>int</code>, default:
                <code>1</code>
)
        
        <div class="doc-md-description">
          <p>How many workers/cores should be spawned to handle function(arguments)?</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>context</code></b>
            (<code>str</code>, default:
                <code>&#39;spawn&#39;</code>
)
        
        <div class="doc-md-description">
          <p>How to start new processes? One of 'spawn', 'fork', or 'forkserver'.</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The results produced from the function and star_args</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mp_starmap</span><span class="p">(</span><span class="n">function</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">star_args</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="nb">tuple</span><span class="p">],</span> <span class="n">processes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;spawn&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Maps an iterable input with multiple arguments to a function using multiprocessing Pool</span>

<span class="sd">    Args:</span>
<span class="sd">        function: Which function should be executed</span>
<span class="sd">        star_args: Arguments to be unpacked in the defined function, order specific</span>
<span class="sd">        processes: How many workers/cores should be spawned to handle function(arguments)?</span>
<span class="sd">        context: How to start new processes? One of &#39;spawn&#39;, &#39;fork&#39;, or &#39;forkserver&#39;.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The results produced from the function and star_args</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># with mp.get_context(context).Pool(processes=processes) as p:  # , maxtasksperchild=100</span>
    <span class="k">with</span> <span class="n">mp</span><span class="o">.</span><span class="n">get_context</span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="o">.</span><span class="n">Pool</span><span class="p">(</span><span class="n">processes</span><span class="o">=</span><span class="n">processes</span><span class="p">,</span> <span class="n">initializer</span><span class="o">=</span><span class="n">set_worker_affinity</span><span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">starmap</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">star_args</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.bytes2human" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">bytes2human</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">bytes2human</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="n">int</span><span class="p">,</span> <span class="n">return_format</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.1f}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">str</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Convert bytes to a human-readable format</p>
<p>See: http://goo.gl/zeJZl</p>
<blockquote>
<blockquote>
<blockquote>
<p>bytes2human(10000)
'9.8 K'
bytes2human(100001221)
'95.4 M'</p>
</blockquote>
</blockquote>
</blockquote>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>number</code></b>
            (<code>int</code>)
        
        <div class="doc-md-description">
          <p>The number of bytes</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>return_format</code></b>
            (<code>str</code>, default:
                <code>&#39;{:.1f} {}&#39;</code>
)
        
        <div class="doc-md-description">
          <p>The desired return format with '{}'.format() compatibility</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The human-readable expression of bytes from a number of bytes</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">bytes2human</span><span class="p">(</span><span class="n">number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">return_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert bytes to a human-readable format</span>

<span class="sd">    See: http://goo.gl/zeJZl</span>
<span class="sd">    &gt;&gt;&gt; bytes2human(10000)</span>
<span class="sd">    &#39;9.8 K&#39;</span>
<span class="sd">    &gt;&gt;&gt; bytes2human(100001221)</span>
<span class="sd">    &#39;95.4 M&#39;</span>

<span class="sd">    Args:</span>
<span class="sd">        number: The number of bytes</span>
<span class="sd">        return_format: The desired return format with &#39;{}&#39;.format() compatibility</span>
<span class="sd">    Returns:</span>
<span class="sd">        The human-readable expression of bytes from a number of bytes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">symbols</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">)</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="p">{</span><span class="n">symbol</span><span class="p">:</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">idx</span> <span class="o">*</span> <span class="mi">10</span> <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">symbols</span><span class="p">)}</span>

    <span class="k">for</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">symbol_number</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">prefix</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="k">if</span> <span class="n">number</span> <span class="o">&gt;=</span> <span class="n">symbol_number</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">number</span> <span class="o">/</span> <span class="n">symbol_number</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># Smaller than the smallest</span>
        <span class="n">symbol</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">number</span>
    <span class="k">return</span> <span class="n">return_format</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">symbol</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.human2bytes" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">human2bytes</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">human2bytes</span><span class="p">(</span><span class="n">human_byte_str</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Convert human-readable bytes to a numeric format</p>
<p>See: http://goo.gl/zeJZl</p>
<blockquote>
<blockquote>
<blockquote>
<p>human2bytes('0 B')
0
human2bytes('1 K')
1024
human2bytes('1 M')
1048576
human2bytes('1 Gi')
1073741824
human2bytes('1 tera')
1099511627776
human2bytes('0.5kilo')
512
human2bytes('0.1  byte')
0
human2bytes('1 k')  # k is an alias for K
1024
human2bytes('12 foo')</p>
</blockquote>
</blockquote>
</blockquote>
      <p>Returns:
    The number of bytes from a human-readable expression of bytes</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">human2bytes</span><span class="p">(</span><span class="n">human_byte_str</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert human-readable bytes to a numeric format</span>

<span class="sd">    See: http://goo.gl/zeJZl</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;0 B&#39;)</span>
<span class="sd">    0</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;1 K&#39;)</span>
<span class="sd">    1024</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;1 M&#39;)</span>
<span class="sd">    1048576</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;1 Gi&#39;)</span>
<span class="sd">    1073741824</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;1 tera&#39;)</span>
<span class="sd">    1099511627776</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;0.5kilo&#39;)</span>
<span class="sd">    512</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;0.1  byte&#39;)</span>
<span class="sd">    0</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;1 k&#39;)  # k is an alias for K</span>
<span class="sd">    1024</span>
<span class="sd">    &gt;&gt;&gt; human2bytes(&#39;12 foo&#39;)</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError if input can&#39;t be parsed</span>
<span class="sd">    Returns:</span>
<span class="sd">        The number of bytes from a human-readable expression of bytes</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Find the scale prefix/abbreviation</span>
    <span class="n">letter</span> <span class="o">=</span> <span class="n">human_byte_str</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">remove_digit_table</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">symbol_set</span> <span class="ow">in</span> <span class="n">SYMBOLS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">symbol_set</span><span class="p">:</span>
            <span class="k">break</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># if letter == &#39;k&#39;:</span>
        <span class="c1">#     # treat &#39;k&#39; as an alias for &#39;K&#39; as per: http://goo.gl/kTQMs</span>
        <span class="c1">#     sset = SYMBOLS[&#39;customary&#39;]</span>
        <span class="c1">#     letter = letter.upper()</span>
        <span class="c1"># else:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">human2bytes</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: Can&#39;t interpret </span><span class="si">{</span><span class="n">human_byte_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Find the size value</span>
    <span class="n">number</span> <span class="o">=</span> <span class="n">human_byte_str</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">number</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">human2bytes</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: Can&#39;t interpret </span><span class="si">{</span><span class="n">human_byte_str</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Convert to numeric bytes</span>
        <span class="n">letter_index</span> <span class="o">=</span> <span class="n">symbol_set</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">number</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">letter_index</span> <span class="o">*</span> <span class="mi">10</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_available_memory" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_available_memory</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_available_memory</span><span class="p">(</span><span class="n">human_readable</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">gpu</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">int</span>
</code></pre></div>

  <div class="doc doc-contents ">
  



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>human_readable</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether the return value should be human-readable</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>gpu</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether a GPU should be used</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The available memory (in bytes) depending on the compute environment</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_available_memory</span><span class="p">(</span><span class="n">human_readable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">gpu</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Args:</span>
<span class="sd">        human_readable: Whether the return value should be human-readable</span>
<span class="sd">        gpu: Whether a GPU should be used</span>
<span class="sd">    Returns:</span>
<span class="sd">        The available memory (in bytes) depending on the compute environment</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check if job is allocated by SLURM</span>
    <span class="k">if</span> <span class="s1">&#39;SLURM_JOB_ID&#39;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
        <span class="n">jobid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;SLURM_JOB_ID&#39;</span><span class="p">]</span>  <span class="c1"># SLURM_JOB_ID</span>
        <span class="c1"># array_jobid = os.environ.get(&#39;SLURM_ARRAY_TASK_ID&#39;)</span>
        <span class="c1"># if array_jobid:</span>
        <span class="c1">#     jobid = f&#39;{jobid}_{array_jobid}&#39;  # SLURM_ARRAY_TASK_ID</span>
        <span class="k">if</span> <span class="s1">&#39;SLURM_ARRAY_TASK_ID&#39;</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">:</span>
            <span class="n">jobid</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">jobid</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;SLURM_ARRAY_TASK_ID&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># SLURM_ARRAY_TASK_ID</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The job is managed by SLURM with SLURM_ARRAY_TASK_ID=</span><span class="si">{</span><span class="n">jobid</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The job is managed by SLURM with SLURM_JOB_ID=</span><span class="si">{</span><span class="n">jobid</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="c1"># Run the command &#39;scontrol show job {jobid}&#39;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="s1">&#39;scontrol&#39;</span><span class="p">,</span> <span class="s1">&#39;show&#39;</span><span class="p">,</span> <span class="s1">&#39;job&#39;</span><span class="p">,</span> <span class="n">jobid</span><span class="p">],</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
        <span class="n">out</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">communicate</span><span class="p">()</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; When --mem-per-cpu=20G, searching for the line</span>
<span class="sd">        MinCPUsNode=1 MinMemoryCPU=210000M MinTmpDiskNode=0</span>
<span class="sd">        Features=(null) DelayBoot=00:00:00</span>
<span class="sd">        &quot;&quot;&quot;</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; OR when --mem=20G, searching for the line</span>
<span class="sd">        MinMemoryNode = 20G</span>
<span class="sd">        &quot;&quot;&quot;</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Additionally, the line with </span>
<span class="sd">        TRES=cpu=1,mem=20G,node=1,billing=1</span>
<span class="sd">        Is the same with either submission</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start_index</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;MinMemoryCPU=&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="mi">13</span>  <span class="c1"># &lt;- 13 is length of search string</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Since default value is in M (MB), memory shouldn&#39;t be more than ~1000000 (1000 GB RAM?!)</span>
<span class="sd">        Use plus 10 characters to parse. Value could be 50 I suppose and the split will get this variable only...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># try:</span>
        <span class="n">memory_allocated</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">start_index</span> <span class="o">+</span> <span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># except IndexError:</span>
        <span class="c1">#     print(out)</span>
        <span class="c1">#     print(f&quot;start_index where &#39;MinMemoryCPU=&#39; &#39;=&#39; was found: {start_index}&quot;)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found memory allocated: </span><span class="si">{</span><span class="n">memory_allocated</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="c1"># memory_available = psutil.virtual_memory().available</span>
        <span class="c1"># logger.debug(f&#39;Found memory available: {bytes2human(memory_available)}&#39;)</span>
        <span class="n">process</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">()</span>
        <span class="n">memory_used</span> <span class="o">=</span> <span class="n">process</span><span class="o">.</span><span class="n">memory_info</span><span class="p">()</span><span class="o">.</span><span class="n">rss</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Found memory used: </span><span class="si">{</span><span class="n">bytes2human</span><span class="p">(</span><span class="n">memory_used</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">memory_constraint</span> <span class="o">=</span> <span class="n">human2bytes</span><span class="p">(</span><span class="n">memory_allocated</span><span class="p">)</span> <span class="o">-</span> <span class="n">memory_used</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found the scontrol out: </span><span class="si">{</span><span class="n">out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">raise</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">memory_constraint</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">virtual_memory</span><span class="p">()</span><span class="o">.</span><span class="n">available</span>

    <span class="k">if</span> <span class="n">human_readable</span><span class="p">:</span>
        <span class="n">memory_constraint</span> <span class="o">=</span> <span class="n">bytes2human</span><span class="p">(</span><span class="n">memory_constraint</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">memory_constraint</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_base_root_paths_recursively" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_base_root_paths_recursively</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_base_root_paths_recursively</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Retrieve the bottom most directories recursively from a root directory</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>directory</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>)
        
        <div class="doc-md-description">
          <p>The root directory of interest</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>sort</code></b>
            (<code>bool</code>, default:
                <code>True</code>
)
        
        <div class="doc-md-description">
          <p>Whether the files should be filtered by name before returning</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The list of directories matching the search</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_base_root_paths_recursively</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">AnyStr</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the bottom most directories recursively from a root directory</span>

<span class="sd">    Args:</span>
<span class="sd">        directory: The root directory of interest</span>
<span class="sd">        sort: Whether the files should be filtered by name before returning</span>
<span class="sd">    Returns:</span>
<span class="sd">        The list of directories matching the search</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">file_generator</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">root</span><span class="p">)</span> <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">dirs</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">file_generator</span><span class="p">)</span> <span class="k">if</span> <span class="n">sort</span> <span class="k">else</span> <span class="nb">list</span><span class="p">(</span><span class="n">file_generator</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_file_paths_recursively" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_file_paths_recursively</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_file_paths_recursively</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">,</span> <span class="n">extension</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Retrieve files recursively from a directory</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>directory</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>)
        
        <div class="doc-md-description">
          <p>The directory of interest</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>extension</code></b>
            (<code>str</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>A extension to filter by</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>sort</code></b>
            (<code>bool</code>, default:
                <code>True</code>
)
        
        <div class="doc-md-description">
          <p>Whether the files should be filtered by name before returning</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The list of files matching the search</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_file_paths_recursively</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">,</span> <span class="n">extension</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">AnyStr</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve files recursively from a directory</span>

<span class="sd">    Args:</span>
<span class="sd">        directory: The directory of interest</span>
<span class="sd">        extension: A extension to filter by</span>
<span class="sd">        sort: Whether the files should be filtered by name before returning</span>
<span class="sd">    Returns:</span>
<span class="sd">        The list of files matching the search</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">extension</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">file_generator</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">root</span><span class="p">),</span> <span class="n">file</span><span class="p">)</span>
                          <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">followlinks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span>
                          <span class="k">if</span> <span class="n">extension</span> <span class="ow">in</span> <span class="n">file</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">file_generator</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">root</span><span class="p">),</span> <span class="n">file</span><span class="p">)</span>
                          <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">followlinks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">file_generator</span><span class="p">)</span> <span class="k">if</span> <span class="n">sort</span> <span class="k">else</span> <span class="nb">list</span><span class="p">(</span><span class="n">file_generator</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_directory_file_paths" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_directory_file_paths</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_directory_file_paths</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">,</span> <span class="n">suffix</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">extension</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return all files in a directory with specified extensions and suffixes</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>directory</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>)
        
        <div class="doc-md-description">
          <p>The directory of interest</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>suffix</code></b>
            (<code>str</code>, default:
                <code>&#39;&#39;</code>
)
        
        <div class="doc-md-description">
          <p>A string to match before the extension. A glob pattern is built as follows "<em>suffix</em>extension"
ex: suffix="model" matches "design_model.pdb" and "model1.pdb"</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>extension</code></b>
            (<code>str</code>, default:
                <code>&#39;&#39;</code>
)
        
        <div class="doc-md-description">
          <p>A extension to filter by. Include the "." if there is one</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>sort</code></b>
            (<code>bool</code>, default:
                <code>True</code>
)
        
        <div class="doc-md-description">
          <p>Whether the files should be filtered by name before returning</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The list of files matching the search</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_directory_file_paths</span><span class="p">(</span><span class="n">directory</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">,</span> <span class="n">suffix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">extension</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> \
        <span class="nb">list</span><span class="p">[</span><span class="n">AnyStr</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return all files in a directory with specified extensions and suffixes</span>

<span class="sd">    Args:</span>
<span class="sd">        directory: The directory of interest</span>
<span class="sd">        suffix: A string to match before the extension. A glob pattern is built as follows &quot;*suffix*extension&quot;</span>
<span class="sd">            ex: suffix=&quot;model&quot; matches &quot;design_model.pdb&quot; and &quot;model1.pdb&quot;</span>
<span class="sd">        extension: A extension to filter by. Include the &quot;.&quot; if there is one</span>
<span class="sd">        sort: Whether the files should be filtered by name before returning</span>
<span class="sd">    Returns:</span>
<span class="sd">        The list of files matching the search</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
    <span class="n">file_generator</span> <span class="o">=</span> <span class="p">(</span><span class="n">file</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;*</span><span class="si">{</span><span class="n">suffix</span><span class="si">}</span><span class="s1">*</span><span class="si">{</span><span class="n">extension</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)))</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">file_generator</span><span class="p">)</span> <span class="k">if</span> <span class="n">sort</span> <span class="k">else</span> <span class="nb">list</span><span class="p">(</span><span class="n">file_generator</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.collect_nanohedra_designs" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">collect_nanohedra_designs</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">collect_nanohedra_designs</span><span class="p">(</span><span class="n">files</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dock</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tuple</span><span class="p">[</span><span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">],</span> <span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Grab all poses from a Nanohedra directory via a file or a directory</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>files</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Iterable with disk location of files containing design directories</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>directory</code></b>
            (<code>str</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Disk location of the program directory</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>dock</code></b>
            (<code>bool</code>, default:
                <code>False</code>
)
        
        <div class="doc-md-description">
          <p>Whether the designs are in current docking run</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The absolute paths to Nanohedra output directories for all pose directories found</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">collect_nanohedra_designs</span><span class="p">(</span><span class="n">files</span><span class="p">:</span> <span class="n">Sequence</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dock</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> \
        <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">AnyStr</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Grab all poses from a Nanohedra directory via a file or a directory</span>

<span class="sd">    Args:</span>
<span class="sd">        files: Iterable with disk location of files containing design directories</span>
<span class="sd">        directory: Disk location of the program directory</span>
<span class="sd">        dock: Whether the designs are in current docking run</span>
<span class="sd">    Returns:</span>
<span class="sd">        The absolute paths to Nanohedra output directories for all pose directories found</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">all_paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;No &quot;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s1">&quot; file found! Please ensure correct location/name!&#39;</span><span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;.pdb&#39;</span> <span class="ow">in</span> <span class="n">file</span><span class="p">:</span>  <span class="c1"># single .pdb files were passed as input and should be loaded as such</span>
                <span class="n">all_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># assume a file that specifies individual designs was passed and load all design names in that file</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="c1"># only strip the trailing &#39;os.sep&#39; in case file names are passed</span>
                        <span class="n">paths</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">rstrip</span><span class="p">,</span> <span class="p">[</span><span class="n">location</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
                                                 <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">],</span> <span class="n">repeat</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">))</span>
                <span class="k">except</span> <span class="ne">IsADirectoryError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s1"> is a directory not a file. Did you mean to run with --directory?&#39;</span><span class="p">)</span>
                <span class="n">all_paths</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">directory</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">dock</span><span class="p">:</span>
            <span class="n">all_paths</span> <span class="o">=</span> <span class="n">get_docked_directories</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">base_directories</span> <span class="o">=</span> <span class="n">get_base_nanohedra_dirs</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
            <span class="n">all_paths</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="n">base_directories</span><span class="p">:</span>  <span class="c1"># Todo we shouldn&#39;t allow multiple, it complicates SymEntry matching</span>
                <span class="n">all_paths</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_docked_dirs_from_base</span><span class="p">(</span><span class="n">base</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>  <span class="c1"># this shouldn&#39;t happen</span>
        <span class="n">all_paths</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="n">files</span> <span class="ow">or</span> <span class="n">directory</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">all_paths</span><span class="p">)),</span> <span class="n">location</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">location</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_base_nanohedra_dirs" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_base_nanohedra_dirs</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_base_nanohedra_dirs</span><span class="p">(</span><span class="n">base_dir</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Find all master directories corresponding to the highest output level of Nanohedra.py outputs. This corresponds
to the PoseJob symmetry attribute</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_base_nanohedra_dirs</span><span class="p">(</span><span class="n">base_dir</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find all master directories corresponding to the highest output level of Nanohedra.py outputs. This corresponds</span>
<span class="sd">    to the PoseJob symmetry attribute</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">nanohedra_dirs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">base_dir</span><span class="p">,</span> <span class="n">followlinks</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">putils</span><span class="o">.</span><span class="n">master_log</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="n">nanohedra_dirs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
            <span class="k">del</span> <span class="n">dirs</span><span class="p">[:]</span>

    <span class="k">return</span> <span class="n">nanohedra_dirs</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_docked_directories" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_docked_directories</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_docked_directories</span><span class="p">(</span><span class="n">base_directory</span><span class="p">,</span> <span class="n">directory_type</span><span class="o">=</span><span class="s1">&#39;NanohedraEntry&#39;</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Useful for when your docked directory is basically known but the</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_docked_directories</span><span class="p">(</span><span class="n">base_directory</span><span class="p">,</span> <span class="n">directory_type</span><span class="o">=</span><span class="s1">&#39;NanohedraEntry&#39;</span><span class="p">):</span>  <span class="c1"># &#39;*DockedPoses&#39;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Useful for when your docked directory is basically known but the &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">_dir</span><span class="p">)</span> <span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirs</span><span class="p">,</span> <span class="n">files</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">base_directory</span><span class="p">)</span> <span class="k">for</span> <span class="n">_dir</span> <span class="ow">in</span> <span class="n">dirs</span>
            <span class="k">if</span> <span class="n">directory_type</span> <span class="ow">in</span> <span class="n">_dir</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_docked_dirs_from_base" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_docked_dirs_from_base</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_docked_dirs_from_base</span><span class="p">(</span><span class="n">base</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="p">[</span><span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Find every Nanohedra output base directory where each of the poses and files is contained</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>base</code></b>
            (<code>str</code>)
        
        <div class="doc-md-description">
          <p>The base of the filepath corresponding to the Nanohedra master output directory</p>
        </div>
      </li>
  </ul>



  <p>Returns:</p>
  <ul>
      <li class="field-body">
            <code>list[<span title="typing.AnyStr">AnyStr</span>]</code>
        
        <div class="doc-md-description">
          <p>The absolute path to every directory containing Nanohedra output</p>
      </div>
      </li>
  </ul>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_docked_dirs_from_base</span><span class="p">(</span><span class="n">base</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">AnyStr</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find every Nanohedra output base directory where each of the poses and files is contained</span>

<span class="sd">    Args:</span>
<span class="sd">        base: The base of the filepath corresponding to the Nanohedra master output directory</span>

<span class="sd">    Returns:</span>
<span class="sd">        The absolute path to every directory containing Nanohedra output</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># base/building_blocks/degen/rot/tx/&#39;</span>
    <span class="c1"># abspath removes trailing separator as well</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">,</span> <span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">base</span><span class="si">}{</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s2">*&quot;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">4</span><span class="si">}{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.collect_designs" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">collect_designs</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">collect_designs</span><span class="p">(</span><span class="n">files</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">projects</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">singles</span><span class="p">:</span> <span class="n"><span title="collections.abc.Sequence">Sequence</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">tuple</span><span class="p">[</span><span class="n">list</span><span class="p">,</span> <span class="n">str</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Grab all poses from an input source</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>files</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Iterable with disk location of files containing design directories</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>directory</code></b>
            (<code><span title="typing.AnyStr">AnyStr</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Disk location of the program directory</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>projects</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Disk location of a project directory</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>singles</code></b>
            (<code><span title="collections.abc.Sequence">Sequence</span></code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>Disk location of a single design directory</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    All pose directories found, the location where they are located</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">collect_designs</span><span class="p">(</span><span class="n">files</span><span class="p">:</span> <span class="n">Sequence</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="n">AnyStr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">projects</span><span class="p">:</span> <span class="n">Sequence</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">singles</span><span class="p">:</span> <span class="n">Sequence</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Grab all poses from an input source</span>

<span class="sd">    Args:</span>
<span class="sd">        files: Iterable with disk location of files containing design directories</span>
<span class="sd">        directory: Disk location of the program directory</span>
<span class="sd">        projects: Disk location of a project directory</span>
<span class="sd">        singles: Disk location of a single design directory</span>
<span class="sd">    Returns:</span>
<span class="sd">        All pose directories found, the location where they are located</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">files</span><span class="p">:</span>
        <span class="n">all_paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No &#39;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&#39; file found. Please ensure correct location/name&quot;</span><span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;.pdb&#39;</span> <span class="ow">in</span> <span class="n">file</span><span class="p">:</span>  <span class="c1"># Single .pdb file passed as input</span>
                <span class="n">all_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
            <span class="k">elif</span> <span class="s1">&#39;.cif&#39;</span> <span class="ow">in</span> <span class="n">file</span><span class="p">:</span>  <span class="c1"># Single .cif file passed as input</span>
                <span class="n">all_paths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># Assume a file that specifies individual designs was passed and load all design names in that file</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                        <span class="c1"># only strip the trailing &#39;os.sep&#39; in case file names are passed</span>
                        <span class="n">paths</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">rstrip</span><span class="p">,</span> <span class="p">[</span><span class="n">location</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
                                                 <span class="k">if</span> <span class="n">location</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">],</span> <span class="n">repeat</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">))</span>
                <span class="k">except</span> <span class="ne">IsADirectoryError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">IsADirectoryError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&#39; is a directory not a file. Did you mean to run with --file?&#39;&quot;</span><span class="p">)</span>
                <span class="n">all_paths</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">base_directory</span> <span class="o">=</span> <span class="n">get_program_root_directory</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>
        <span class="c1"># return all design directories within:</span>
        <span class="c1">#  base directory -&gt; /base/Projects/project1, ... /base/Projects/projectN</span>
        <span class="c1">#  specified projects -&gt; /base/Projects/project1, /base/Projects/project2, ...</span>
        <span class="c1">#  specified singles -&gt; /base/Projects/project/design1, /base/Projects/project/design2, ...</span>
        <span class="k">if</span> <span class="n">base_directory</span> <span class="ow">or</span> <span class="n">projects</span> <span class="ow">or</span> <span class="n">singles</span><span class="p">:</span>
            <span class="n">all_paths</span> <span class="o">=</span> <span class="n">get_program_directories</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="n">base_directory</span><span class="p">,</span> <span class="n">projects</span><span class="o">=</span><span class="n">projects</span><span class="p">,</span> <span class="n">singles</span><span class="o">=</span><span class="n">singles</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">directory</span><span class="p">:</span>  <span class="c1"># This is probably an uninitialized project. Grab all .pdb files</span>
            <span class="n">all_paths</span> <span class="o">=</span> <span class="n">get_directory_file_paths</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="s1">&#39;.pdb&#39;</span><span class="p">)</span>
            <span class="n">directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">directory</span><span class="p">)</span>  <span class="c1"># This is for the location variable return</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Function was called with all set to None. This shouldn&#39;t happen</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Can&#39;t </span><span class="si">{</span><span class="n">collect_designs</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">() with no arguments passed&quot;</span><span class="p">)</span>

    <span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="n">files</span> <span class="ow">or</span> <span class="n">directory</span> <span class="ow">or</span> <span class="n">projects</span> <span class="ow">or</span> <span class="n">singles</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">all_paths</span><span class="p">)),</span> <span class="n">location</span>  <span class="c1"># if isinstance(location, str) else location[0]  # Grab first index</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_program_root_directory" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_program_root_directory</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_program_root_directory</span><span class="p">(</span><span class="n">search_path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.AnyStr">AnyStr</span></span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Find the program_output variable in the specified path and return the path to it</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>search_path</code></b>
            (<code>str</code>, default:
                <code>None</code>
)
        
        <div class="doc-md-description">
          <p>The path to search</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    The absolute path of the identified program root</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_program_root_directory</span><span class="p">(</span><span class="n">search_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AnyStr</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the program_output variable in the specified path and return the path to it</span>

<span class="sd">    Args:</span>
<span class="sd">        search_path: The path to search</span>
<span class="sd">    Returns:</span>
<span class="sd">        The absolute path of the identified program root</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_directory</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">search_path</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Search for the program_output name in the provided path</span>
        <span class="n">search_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">search_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">putils</span><span class="o">.</span><span class="n">program_output</span> <span class="ow">in</span> <span class="n">search_path</span><span class="p">:</span>   <span class="c1"># directory1/program_output/directory2/directory3</span>
            <span class="c1"># Return the path to that directory</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">dirname</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">search_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">),</span> <span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">dirname</span> <span class="o">==</span> <span class="n">putils</span><span class="o">.</span><span class="n">program_output</span><span class="p">:</span>
                    <span class="n">root_directory</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">search_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">)[:</span><span class="n">idx</span><span class="p">])</span><span class="si">}</span><span class="s1">&#39;</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">putils</span><span class="o">.</span><span class="n">program_output</span><span class="si">}</span><span class="s1"> is missing in search_path. This should never happen&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># See if program_output is a child of the provided search_path</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">all_files</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">search_path</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="ne">NotADirectoryError</span><span class="p">):</span>
                <span class="n">all_files</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">putils</span><span class="o">.</span><span class="n">program_output</span> <span class="ow">in</span> <span class="n">all_files</span><span class="p">:</span>  <span class="c1"># directory_provided/program_output</span>
                <span class="k">for</span> <span class="n">sub_directory</span> <span class="ow">in</span> <span class="n">all_files</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">sub_directory</span> <span class="o">==</span> <span class="n">putils</span><span class="o">.</span><span class="n">program_output</span><span class="p">:</span>
                        <span class="n">root_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">search_path</span><span class="p">,</span> <span class="n">sub_directory</span><span class="p">)</span>
                        <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">InputError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">putils</span><span class="o">.</span><span class="n">program_output</span><span class="si">}</span><span class="s1"> is missing in all_files. This should never happen&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">root_directory</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.get_program_directories" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">get_program_directories</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">get_program_directories</span><span class="p">(</span><span class="n">base</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">projects</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">singles</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="collections.abc.Generator">Generator</span></span><span class="p">[</span><span class="n"><span title="typing.AnyStr">AnyStr</span></span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the specific design directories from the specified hierarchy with the format
/base(program_output)/Projects/project/design</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_program_directories</span><span class="p">(</span><span class="n">base</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">projects</span><span class="p">:</span> <span class="n">Iterable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">singles</span><span class="p">:</span> <span class="n">Iterable</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> \
        <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">[</span><span class="n">AnyStr</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the specific design directories from the specified hierarchy with the format</span>
<span class="sd">    /base(program_output)/Projects/project/design</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="n">base</span><span class="p">:</span>
        <span class="n">paths</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">base</span><span class="si">}{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}{</span><span class="n">putils</span><span class="o">.</span><span class="n">projects</span><span class="si">}{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s1">*</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s1">*</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))</span>  <span class="c1"># base/Projects/*/*/</span>
    <span class="k">if</span> <span class="n">projects</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">project</span> <span class="ow">in</span> <span class="n">projects</span><span class="p">:</span>
            <span class="n">paths</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">project</span><span class="si">}{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s1">*</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))</span>  <span class="c1"># base/Projects/project/*/</span>
    <span class="k">if</span> <span class="n">singles</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">single</span><span class="p">,</span> <span class="n">extension</span> <span class="ow">in</span> <span class="nb">map</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">,</span> <span class="n">singles</span><span class="p">):</span>  <span class="c1"># Remove extensions</span>
            <span class="n">paths</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">single</span><span class="si">}{</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">))</span>  <span class="c1"># base/Projects/project/single/</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">,</span> <span class="n">paths</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.all_vs_all" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">all_vs_all</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">all_vs_all</span><span class="p">(</span><span class="n">iterable</span><span class="p">:</span> <span class="n"><span title="collections.abc.Iterable">Iterable</span></span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n"><span title="collections.abc.Callable">Callable</span></span><span class="p">,</span> <span class="n">symmetrize</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="numpy.ndarray">ndarray</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Calculate an all versus all comparison using a defined function. Matrix is symmetrized by default</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>iterable</code></b>
            (<code><span title="collections.abc.Iterable">Iterable</span></code>)
        
        <div class="doc-md-description">
          <p>Dictionary or array like object</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>func</code></b>
            (<code><span title="collections.abc.Callable">Callable</span></code>)
        
        <div class="doc-md-description">
          <p>Function to calculate different iterations of the iterable</p>
        </div>
      </li>
      <li class="field-body">
        <b><code>symmetrize</code></b>
            (<code>bool</code>, default:
                <code>True</code>
)
        
        <div class="doc-md-description">
          <p>Whether to make the resulting matrix symmetric</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    Matrix with resulting calculations</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">all_vs_all</span><span class="p">(</span><span class="n">iterable</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">symmetrize</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate an all versus all comparison using a defined function. Matrix is symmetrized by default</span>

<span class="sd">    Args:</span>
<span class="sd">        iterable: Dictionary or array like object</span>
<span class="sd">        func: Function to calculate different iterations of the iterable</span>
<span class="sd">        symmetrize: Whether to make the resulting matrix symmetric</span>
<span class="sd">    Returns:</span>
<span class="sd">        Matrix with resulting calculations</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">iterable</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="c1"># func(iterable[obj1], iterable[obj2])</span>
        <span class="n">_dict</span> <span class="o">=</span> <span class="n">iterable</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_dict</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">pairwise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">iterable</span><span class="p">),</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">iterable</span><span class="p">))))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">obj1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iterable</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">obj2</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iterable</span><span class="p">[</span><span class="n">j</span><span class="p">:],</span> <span class="n">j</span><span class="p">):</span>
            <span class="c1"># if type(iterable) == dict:  # _dict</span>
            <span class="n">pairwise</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">obj1</span><span class="p">,</span> <span class="n">obj2</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="n">_dict</span><span class="p">)</span>
            <span class="c1"># pairwise[i][j] = func(obj1, obj2, iterable, d=_dict)</span>
            <span class="c1"># else:</span>
            <span class="c1">#     pairwise[i][j] = func(obj1, obj2, iterable, d=_dict)</span>

    <span class="k">if</span> <span class="n">symmetrize</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">sym</span><span class="p">(</span><span class="n">pairwise</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pairwise</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.sym" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">sym</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">sym</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n"><span title="numpy.ndarray">ndarray</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="numpy.ndarray">ndarray</span></span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Symmetrize a numpy array. i.e. if a_ij = 0, then the returned array is such that a_ji = a_ij</p>



  <p>Parameters:</p>
  <ul>
      <li class="field-body">
        <b><code>a</code></b>
            (<code><span title="numpy.ndarray">ndarray</span></code>)
        
        <div class="doc-md-description">
          <p>A 2D square array</p>
        </div>
      </li>
  </ul>
      <p>Returns:
    Symmetrized array</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">sym</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Symmetrize a numpy array. i.e. if a_ij = 0, then the returned array is such that a_ji = a_ij</span>

<span class="sd">    Args:</span>
<span class="sd">        a: A 2D square array</span>
<span class="sd">    Returns:</span>
<span class="sd">        Symmetrized array</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">a</span><span class="o">.</span><span class="n">T</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">diagonal</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="utils.condensed_to_square" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">condensed_to_square</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="n">condensed_to_square</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Return the i, j indices of a scipy condensed matrix from element k and matrix dimension n</p>

          <details class="quote">
            <summary>Source code in <code>symdesign/utils/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">condensed_to_square</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return the i, j indices of a scipy condensed matrix from element k and matrix dimension n&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">calc_row_idx</span><span class="p">(</span><span class="n">_k</span><span class="p">,</span> <span class="n">_n</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">((</span><span class="mi">1</span> <span class="o">/</span> <span class="mf">2.</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="o">-</span> <span class="p">(</span><span class="o">-</span><span class="mi">8</span> <span class="o">*</span> <span class="n">_k</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">_n</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">_n</span> <span class="o">-</span> <span class="mi">7</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">_n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">elem_in_i_rows</span><span class="p">(</span><span class="n">_i</span><span class="p">,</span> <span class="n">_n</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_i</span> <span class="o">*</span> <span class="p">(</span><span class="n">_n</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">_i</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">_i</span> <span class="o">*</span> <span class="p">(</span><span class="n">_i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">//</span> <span class="mi">2</span>

    <span class="k">def</span> <span class="nf">calc_col_idx</span><span class="p">(</span><span class="n">_k</span><span class="p">,</span> <span class="n">_i</span><span class="p">,</span> <span class="n">_n</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">_n</span> <span class="o">-</span> <span class="n">elem_in_i_rows</span><span class="p">(</span><span class="n">_i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">_n</span><span class="p">)</span> <span class="o">+</span> <span class="n">_k</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">calc_row_idx</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="n">j</span> <span class="o">=</span> <span class="n">calc_col_idx</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../tools/write_indices_for_C1_docking/" class="md-footer__link md-footer__link--prev" aria-label="Previous: write_indices_for_C1_docking">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                write_indices_for_C1_docking
              </div>
            </div>
          </a>
        
        
          
          <a href="SymEntry/" class="md-footer__link md-footer__link--next" aria-label="Next: SymEntry">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                SymEntry
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Kyle Meador
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/kylemeador" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.instant", "navigation.path", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "toc.follow", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>