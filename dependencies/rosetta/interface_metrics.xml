<ROSETTASCRIPTS>

	<RESIDUE_SELECTORS>
		# all residues
		<True name="full_pose"/>
	</RESIDUE_SELECTORS>

	<MOVERS>
		# generates symmetry for the system in question using %%sdf%% or %%dist%%
		<SetupForSymmetry name="make_point_group" definition="%%sdf%%" set_global_symmetry_at_parsetime="0"/>
		<MakeLayerMover name="make_layer" contact_dist="%%dist%%"/>
		<MakeLatticeMover name="make_lattice" contact_dist="%%dist%%"/>
		# specify coordinate constraint for the pose
		<AddConstraints name="add_csts">
			<CoordinateConstraintGenerator name="coord_cst_gen" native="true" residue_selector="full_pose" sd="0.5" bounded="false" sidechain="false" ca_only="false" ambiguous_hnq="false" align_reference="false"/> # bounded_width="0". sidechain="false" to constrain backbone heavy atoms, could try ca_only as well. bounded="false" makes constraint type harmonic
<!--TODO TEST version	<CoordinateConstraintGenerator name="coord_cst_gen" native="true"/> # DEFAULTS -> residue_selector="full_pose" sd="0.5" bounded="false" bounded_width="0" sidechain="false" ca_only="false" ambiguous_hnq="false" native="false" align_reference="false". not using a native pose as the native isn't refined, sidechain="false" to constrain backbone heavy atoms, could try ca_only as well. bounded="false" makes constraint type harmonic-->
		</AddConstraints>
		<SwitchMover name="symmetry_switch" movers="make_point_group,make_layer,make_lattice,null" selected="%%symmetry%%"/>
		<Subroutine name="measure_interface_bound" xml_fname="%%scripts%%/metrics_scripts/metrics_interface_bound.xml"/>
	</MOVERS>

	<PROTOCOLS>
		<Add mover_name="symmetry_switch"/>
		<Add mover_name="add_csts"/>
		# switch point for interface_bound, interface_1, or interface_2
		<Add mover_name="measure_interface_bound"/>
	</PROTOCOLS>

</ROSETTASCRIPTS>
